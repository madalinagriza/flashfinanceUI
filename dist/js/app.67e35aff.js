(()=>{"use strict";var e={3267:(e,n,a)=>{a(3792),a(3362),a(9085),a(9391);var t=a(5130),r=a(6768),u=a(4232),l=a(144),s=a(908),i=a(388),o=(a(2010),a(6031),a(5026)),c=a(9492),v=(a(6280),a(6918),a(8706),a(4185),a(9352)),d="/api",p=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;(0,o.A)(this,e),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.client=v.A.create({baseURL:n,headers:{"Content-Type":"application/json"}}),this.client.interceptors.response.use(function(e){return e},function(e){var n;if(null!==(n=e.response)&&void 0!==n&&n.data){var a=e.response.data;throw new Error(a.error||"HTTP ".concat(e.response.status,": ").concat(e.message))}throw new Error(e.message||"An unexpected error occurred")})}return(0,c.A)(e,[{key:"post",value:function(){var e=(0,i.A)((0,s.A)().m(function e(n,a){var t;return(0,s.A)().w(function(e){while(1)switch(e.n){case 0:return e.n=1,this.client.post(n,a);case 1:return t=e.v,e.a(2,t.data)}},e,this)}));function n(n,a){return e.apply(this,arguments)}return n}()},{key:"get",value:function(){var e=(0,i.A)((0,s.A)().m(function e(n){var a;return(0,s.A)().w(function(e){while(1)switch(e.n){case 0:return e.n=1,this.client.get(n);case 1:return a=e.v,e.a(2,a.data)}},e,this)}));function n(n){return e.apply(this,arguments)}return n}()}])}(),f=new p,k={register:function(e){return(0,i.A)((0,s.A)().m(function n(){return(0,s.A)().w(function(n){while(1)switch(n.n){case 0:return n.a(2,f.post("/User/register",e))}},n)}))()},authenticate:function(e){return(0,i.A)((0,s.A)().m(function n(){return(0,s.A)().w(function(n){while(1)switch(n.n){case 0:return n.a(2,f.post("/User/authenticate",e))}},n)}))()},deactivate:function(e){return(0,i.A)((0,s.A)().m(function n(){return(0,s.A)().w(function(n){while(1)switch(n.n){case 0:return n.a(2,f.post("/User/deactivate",e))}},n)}))()},changePassword:function(e){return(0,i.A)((0,s.A)().m(function n(){return(0,s.A)().w(function(n){while(1)switch(n.n){case 0:return n.a(2,f.post("/User/changePassword",e))}},n)}))()},reactivate:function(e){return(0,i.A)((0,s.A)().m(function n(){return(0,s.A)().w(function(n){while(1)switch(n.n){case 0:return n.a(2,f.post("/User/reactivate",e))}},n)}))()},all:function(){return(0,i.A)((0,s.A)().m(function e(){return(0,s.A)().w(function(e){while(1)switch(e.n){case 0:return e.a(2,f.post("/User/all",{}))}},e)}))()}},g={importTransactions:function(e){return(0,i.A)((0,s.A)().m(function n(){return(0,s.A)().w(function(n){while(1)switch(n.n){case 0:return n.a(2,f.post("/Transaction/import_transactions",e))}},n)}))()},markLabeled:function(e){return(0,i.A)((0,s.A)().m(function n(){return(0,s.A)().w(function(n){while(1)switch(n.n){case 0:return n.a(2,f.post("/Transaction/mark_labeled",e))}},n)}))()},getTransaction:function(e){return(0,i.A)((0,s.A)().m(function n(){return(0,s.A)().w(function(n){while(1)switch(n.n){case 0:return n.a(2,f.post("/Transaction/getTransaction",e))}},n)}))()},listAll:function(){return(0,i.A)((0,s.A)().m(function e(){return(0,s.A)().w(function(e){while(1)switch(e.n){case 0:return e.a(2,f.post("/Transaction/list_all",{}))}},e)}))()}},m=a(4119),b=(a(2062),a(8111),a(1701),a(6099),{create:function(e){return(0,i.A)((0,s.A)().m(function n(){return(0,s.A)().w(function(n){while(1)switch(n.n){case 0:return n.a(2,f.post("/Category/create",e))}},n)}))()},rename:function(e){return(0,i.A)((0,s.A)().m(function n(){return(0,s.A)().w(function(n){while(1)switch(n.n){case 0:return n.a(2,f.post("/Category/rename",e))}},n)}))()},delete:function(e){return(0,i.A)((0,s.A)().m(function n(){return(0,s.A)().w(function(n){while(1)switch(n.n){case 0:return n.a(2,f.post("/Category/delete",e))}},n)}))()},setMetricTotal:function(e){return(0,i.A)((0,s.A)().m(function n(){return(0,s.A)().w(function(n){while(1)switch(n.n){case 0:return n.a(2,f.post("/Category/setMetricTotal",e))}},n)}))()},getCategoryNamesAndOwners:function(){return(0,i.A)((0,s.A)().m(function e(){var n,a,t;return(0,s.A)().w(function(e){while(1)switch(e.n){case 0:return e.n=1,f.post("/Category/getCategoryNamesAndOwners",{});case 1:return n=e.v,a=function(e){if(null==e)return null;if("string"===typeof e)return e;if("object"===(0,m.A)(e)){if("string"===typeof e.value)return e.value;if("object"===(0,m.A)(e.value)&&"string"===typeof e.value.value)return e.value.value}try{return String(e)}catch(n){return null}},t=function(e){if(e)return"string"===typeof e.category_id?e.category_id:e._id&&"string"===typeof e._id?e._id:void 0},e.a(2,(n||[]).map(function(e){return{category_id:t(e),name:e.name,owner_id:a(e.owner_id)||""}}))}},e)}))()},getMetric:function(e){return(0,i.A)((0,s.A)().m(function n(){return(0,s.A)().w(function(n){while(1)switch(n.n){case 0:return n.a(2,f.post("/Category/getMetric",e))}},n)}))()},listMetrics:function(e){return(0,i.A)((0,s.A)().m(function n(){return(0,s.A)().w(function(n){while(1)switch(n.n){case 0:return n.a(2,f.post("/Category/listMetrics",e))}},n)}))()}}),h={class:"signin-page"},L={class:"topbar"},y={class:"signin-card"},w={class:"form-group"},_=["disabled"],A={class:"form-group"},C=["disabled"],E={key:0,class:"error-message"},R={key:1,class:"success-message"},X=["disabled"],S={class:"footer-text"};const I=(0,r.pM)({__name:"SignInPage",emits:["navigate","signIn"],setup:function(e,n){var a=n.emit,o=a,c=(0,l.KR)(""),v=(0,l.KR)(""),d=(0,l.KR)(!1),p=(0,l.KR)(null),f=(0,l.KR)(!1),g=(0,l.KR)(null),m=function(){var e=(0,i.A)((0,s.A)().m(function e(){var n,a;return(0,s.A)().w(function(e){while(1)switch(e.p=e.n){case 0:if(p.value=null,f.value=!1,c.value&&v.value){e.n=1;break}return p.value="Email and password are required",e.a(2);case 1:return d.value=!0,e.p=2,e.n=3,k.authenticate({email:c.value,password:v.value});case 3:n=e.v,g.value=n,f.value=!0,setTimeout(function(){o("signIn",n)},1e3),e.n=5;break;case 4:e.p=4,a=e.v,p.value="Authentication Failed: Invalid email or password",console.error("Sign in error:",a);case 5:return e.p=5,d.value=!1,e.f(5);case 6:return e.a(2)}},e,null,[[2,4,5,6]])}));return function(){return e.apply(this,arguments)}}();return function(e,n){var a,l;return(0,r.uX)(),(0,r.CE)("div",h,[(0,r.Lk)("div",L,[(0,r.Lk)("button",{class:"btn-back",onClick:n[0]||(n[0]=function(e){return o("navigate","main")})},"‚Üê Back to Home")]),(0,r.Lk)("div",y,[n[8]||(n[8]=(0,r.Lk)("h2",null,"Sign In",-1)),n[9]||(n[9]=(0,r.Lk)("p",{class:"subtitle"},"Welcome back to FlashFinance",-1)),(0,r.Lk)("form",{onSubmit:(0,t.D$)(m,["prevent"])},[(0,r.Lk)("div",w,[n[4]||(n[4]=(0,r.Lk)("label",{for:"email"},"Email",-1)),(0,r.bo)((0,r.Lk)("input",{id:"email","onUpdate:modelValue":n[1]||(n[1]=function(e){return c.value=e}),type:"email",placeholder:"Enter your email",disabled:d.value,required:""},null,8,_),[[t.Jo,c.value]])]),(0,r.Lk)("div",A,[n[5]||(n[5]=(0,r.Lk)("label",{for:"password"},"Password",-1)),(0,r.bo)((0,r.Lk)("input",{id:"password","onUpdate:modelValue":n[2]||(n[2]=function(e){return v.value=e}),type:"password",placeholder:"Enter your password",disabled:d.value,required:""},null,8,C),[[t.Jo,v.value]])]),p.value?((0,r.uX)(),(0,r.CE)("div",E," ‚ùå "+(0,u.v_)(p.value),1)):(0,r.Q3)("",!0),f.value?((0,r.uX)(),(0,r.CE)("div",R,[(0,r.eW)(" ‚úÖ Welcome back, "+(0,u.v_)(null===(a=g.value)||void 0===a?void 0:a.name)+"! ",1),n[6]||(n[6]=(0,r.Lk)("br",null,null,-1)),(0,r.Lk)("small",null,"Status: "+(0,u.v_)(null===(l=g.value)||void 0===l?void 0:l.status),1)])):(0,r.Q3)("",!0),(0,r.Lk)("button",{type:"submit",class:"btn-primary",disabled:d.value},(0,u.v_)(d.value?"Signing In...":"Sign In"),9,X)],32),(0,r.Lk)("div",S,[n[7]||(n[7]=(0,r.eW)(" Don't have an account? ",-1)),(0,r.Lk)("a",{href:"#",onClick:n[3]||(n[3]=(0,t.D$)(function(n){return e.$emit("navigate","register")},["prevent"]))},"Register")])])])}}});var K=a(1241);const O=(0,K.A)(I,[["__scopeId","data-v-c2201bb0"]]),P=O;var F={class:"register-page"},U={class:"topbar"},T={class:"register-card"},x={class:"form-group"},Q=["disabled"],W={class:"form-group"},N=["disabled"],M={class:"form-group"},D=["disabled"],V={class:"form-group"},j=["disabled"],J={key:0,class:"error-message"},Y={key:1,class:"success-message"},q=["disabled"];const $=(0,r.pM)({__name:"RegisterPage",emits:["navigate"],setup:function(e,n){var a=n.emit,o=a,c=(0,l.KR)(""),v=(0,l.KR)(""),d=(0,l.KR)(""),p=(0,l.KR)(""),f=(0,l.KR)(!1),g=(0,l.KR)(null),m=(0,l.KR)(!1),b=(0,l.KR)(null),h=function(){c.value="",v.value="",d.value="",p.value="",g.value=null},L=function(){var e=(0,i.A)((0,s.A)().m(function e(){var n,a;return(0,s.A)().w(function(e){while(1)switch(e.p=e.n){case 0:if(g.value=null,m.value=!1,c.value&&v.value&&d.value){e.n=1;break}return g.value="All fields are required",e.a(2);case 1:if(d.value===p.value){e.n=2;break}return g.value="Passwords do not match",e.a(2);case 2:if(!(d.value.length<6)){e.n=3;break}return g.value="Password must be at least 6 characters",e.a(2);case 3:return f.value=!0,e.p=4,e.n=5,k.register({email:c.value,name:v.value,password:d.value});case 5:n=e.v,b.value=n,m.value=!0,h(),setTimeout(function(){o("navigate","signin")},1500),e.n=7;break;case 6:e.p=6,a=e.v,g.value="Registration Failed: Email already in use",console.error("Registration error:",a);case 7:return e.p=7,f.value=!1,e.f(7);case 8:return e.a(2)}},e,null,[[4,6,7,8]])}));return function(){return e.apply(this,arguments)}}();return function(e,n){var a,l;return(0,r.uX)(),(0,r.CE)("div",F,[(0,r.Lk)("div",U,[(0,r.Lk)("button",{class:"btn-back",onClick:n[0]||(n[0]=function(e){return o("navigate","main")})},"‚Üê Back to Home")]),(0,r.Lk)("div",T,[n[10]||(n[10]=(0,r.Lk)("h2",null,"Create Account",-1)),n[11]||(n[11]=(0,r.Lk)("p",{class:"subtitle"},"Sign up for FlashFinance",-1)),(0,r.Lk)("form",{onSubmit:(0,t.D$)(L,["prevent"])},[(0,r.Lk)("div",x,[n[5]||(n[5]=(0,r.Lk)("label",{for:"name"},"Full Name",-1)),(0,r.bo)((0,r.Lk)("input",{id:"name","onUpdate:modelValue":n[1]||(n[1]=function(e){return v.value=e}),type:"text",placeholder:"Enter your full name",disabled:f.value,required:""},null,8,Q),[[t.Jo,v.value]])]),(0,r.Lk)("div",W,[n[6]||(n[6]=(0,r.Lk)("label",{for:"email"},"Email",-1)),(0,r.bo)((0,r.Lk)("input",{id:"email","onUpdate:modelValue":n[2]||(n[2]=function(e){return c.value=e}),type:"email",placeholder:"Enter your email",disabled:f.value,required:""},null,8,N),[[t.Jo,c.value]])]),(0,r.Lk)("div",M,[n[7]||(n[7]=(0,r.Lk)("label",{for:"password"},"Password",-1)),(0,r.bo)((0,r.Lk)("input",{id:"password","onUpdate:modelValue":n[3]||(n[3]=function(e){return d.value=e}),type:"password",placeholder:"Enter password (min 6 characters)",disabled:f.value,required:""},null,8,D),[[t.Jo,d.value]])]),(0,r.Lk)("div",V,[n[8]||(n[8]=(0,r.Lk)("label",{for:"confirm-password"},"Confirm Password",-1)),(0,r.bo)((0,r.Lk)("input",{id:"confirm-password","onUpdate:modelValue":n[4]||(n[4]=function(e){return p.value=e}),type:"password",placeholder:"Confirm your password",disabled:f.value,required:""},null,8,j),[[t.Jo,p.value]])]),g.value?((0,r.uX)(),(0,r.CE)("div",J," ‚ùå "+(0,u.v_)(g.value),1)):(0,r.Q3)("",!0),m.value?((0,r.uX)(),(0,r.CE)("div",Y,[(0,r.eW)(" ‚úÖ Registration successful! Welcome, "+(0,u.v_)(null===(a=b.value)||void 0===a?void 0:a.name)+"! ",1),n[9]||(n[9]=(0,r.Lk)("br",null,null,-1)),(0,r.Lk)("small",null,"User ID: "+(0,u.v_)(null===(l=b.value)||void 0===l?void 0:l.user_id),1)])):(0,r.Q3)("",!0),(0,r.Lk)("button",{type:"submit",class:"btn-primary",disabled:f.value},(0,u.v_)(f.value?"Creating Account...":"Register"),9,q)],32),n[12]||(n[12]=(0,r.Lk)("div",{class:"footer-text"},[(0,r.eW)(" Already have an account? "),(0,r.Lk)("a",{href:"#"},"Sign in")],-1))])])}}}),H=(0,K.A)($,[["__scopeId","data-v-efcff3bc"]]),B=H;var z=a(9258),G={class:"users-page"},Z={class:"topbar"},ee={class:"container"},ne={class:"header"},ae=["disabled"],te={key:0,class:"loading"},re={key:1,class:"error-message"},ue={key:2,class:"empty-state"},le={key:3,class:"users-grid"},se={class:"user-header"},ie={class:"user-avatar"},oe={class:"user-info"},ce={class:"user-email"},ve={class:"user-details"},de={class:"detail-item"},pe={class:"value"},fe={class:"detail-item"},ke={key:4,class:"footer"};const ge=(0,r.pM)({__name:"UsersPage",emits:["navigate"],setup:function(e,n){var a=n.emit,t=a,o=(0,l.KR)([]),c=(0,l.KR)(!1),v=(0,l.KR)(null),d=function(){var e=(0,i.A)((0,s.A)().m(function e(){var n;return(0,s.A)().w(function(e){while(1)switch(e.p=e.n){case 0:return c.value=!0,v.value=null,e.p=1,e.n=2,k.all();case 2:o.value=e.v,e.n=4;break;case 3:e.p=3,n=e.v,v.value=n instanceof Error?n.message:"Failed to fetch users",console.error("Error fetching users:",n);case 4:return e.p=4,c.value=!1,e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(){return e.apply(this,arguments)}}();return(0,r.sV)(function(){d()}),function(e,n){return(0,r.uX)(),(0,r.CE)("div",G,[(0,r.Lk)("div",Z,[(0,r.Lk)("button",{class:"btn-back",onClick:n[0]||(n[0]=function(e){return t("navigate","main")})},"‚Üê Back to Home")]),(0,r.Lk)("div",ee,[(0,r.Lk)("div",ne,[n[1]||(n[1]=(0,r.Lk)("h1",null,"All Users",-1)),(0,r.Lk)("button",{onClick:d,disabled:c.value,class:"btn-refresh"},(0,u.v_)(c.value?"Refreshing...":"üîÑ Refresh"),9,ae)]),c.value&&0===o.value.length?((0,r.uX)(),(0,r.CE)("div",te," Loading users... ")):(0,r.Q3)("",!0),v.value?((0,r.uX)(),(0,r.CE)("div",re," ‚ùå "+(0,u.v_)(v.value),1)):(0,r.Q3)("",!0),c.value||0!==o.value.length||v.value?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("div",ue,(0,z.A)(n[2]||(n[2]=[(0,r.Lk)("p",null,"No users found.",-1),(0,r.Lk)("p",{class:"hint"},"Register a new user to get started.",-1)])))),o.value.length>0?((0,r.uX)(),(0,r.CE)("div",le,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.value,function(e){return(0,r.uX)(),(0,r.CE)("div",{key:e.user_id,class:"user-card"},[(0,r.Lk)("div",se,[(0,r.Lk)("div",ie,(0,u.v_)(e.name.charAt(0).toUpperCase()),1),(0,r.Lk)("div",oe,[(0,r.Lk)("h3",null,(0,u.v_)(e.name),1),(0,r.Lk)("p",ce,(0,u.v_)(e.email),1)])]),(0,r.Lk)("div",ve,[(0,r.Lk)("div",de,[n[3]||(n[3]=(0,r.Lk)("span",{class:"label"},"User ID:",-1)),(0,r.Lk)("span",pe,(0,u.v_)(e.user_id),1)]),(0,r.Lk)("div",fe,[n[4]||(n[4]=(0,r.Lk)("span",{class:"label"},"Status:",-1)),(0,r.Lk)("span",{class:(0,u.C4)(["status-badge",e.status.toLowerCase()])},(0,u.v_)(e.status),3)])])])}),128))])):(0,r.Q3)("",!0),o.value.length>0?((0,r.uX)(),(0,r.CE)("div",ke,[(0,r.Lk)("p",null,[n[5]||(n[5]=(0,r.eW)("Total Users: ",-1)),(0,r.Lk)("strong",null,(0,u.v_)(o.value.length),1)])])):(0,r.Q3)("",!0)])])}}}),me=(0,K.A)(ge,[["__scopeId","data-v-22076460"]]),be=me;var he={class:"main-page"},Le={class:"container"},ye={class:"welcome-section"},we={key:0,class:"greeting"},_e={key:0,class:"user-info"},Ae={class:"info-card"},Ce={class:"info-item"},Ee={class:"value"},Re={class:"info-item"},Xe={class:"info-item"},Se={class:"value"};const Ie=(0,r.pM)({__name:"MainPage",props:{user:{}},emits:["signOut","navigate"],setup:function(e,n){var a=n.emit,t=a;return function(n,a){return(0,r.uX)(),(0,r.CE)("div",he,[(0,r.Lk)("div",Le,[(0,r.Lk)("div",ye,[a[5]||(a[5]=(0,r.Lk)("h1",null,"Welcome to FlashFinance",-1)),e.user?((0,r.uX)(),(0,r.CE)("p",we,[a[3]||(a[3]=(0,r.eW)("Hello, ",-1)),(0,r.Lk)("strong",null,(0,u.v_)(e.user.name),1),a[4]||(a[4]=(0,r.eW)("!",-1))])):(0,r.Q3)("",!0),a[6]||(a[6]=(0,r.Lk)("p",{class:"subtitle"},"Your personal finance management dashboard",-1))]),a[11]||(a[11]=(0,r.Lk)("div",{class:"content-section"},[(0,r.Lk)("div",{class:"placeholder-card"},[(0,r.Lk)("h2",null,"üéØ Getting Started"),(0,r.Lk)("p",null,"Your main dashboard will appear here."),(0,r.Lk)("ul",{class:"feature-list"},[(0,r.Lk)("li",null,"Import and categorize transactions"),(0,r.Lk)("li",null,"Track spending by category"),(0,r.Lk)("li",null,"Set and monitor budgets"),(0,r.Lk)("li",null,"View financial insights")])])],-1)),e.user?((0,r.uX)(),(0,r.CE)("div",_e,[(0,r.Lk)("div",Ae,[a[10]||(a[10]=(0,r.Lk)("h3",null,"Account Information",-1)),(0,r.Lk)("div",Ce,[a[7]||(a[7]=(0,r.Lk)("span",{class:"label"},"Email:",-1)),(0,r.Lk)("span",Ee,(0,u.v_)(e.user.email),1)]),(0,r.Lk)("div",Re,[a[8]||(a[8]=(0,r.Lk)("span",{class:"label"},"Status:",-1)),(0,r.Lk)("span",{class:(0,u.C4)(["status-badge",e.user.status.toLowerCase()])},(0,u.v_)(e.user.status),3)]),(0,r.Lk)("div",Xe,[a[9]||(a[9]=(0,r.Lk)("span",{class:"label"},"User ID:",-1)),(0,r.Lk)("span",Se,(0,u.v_)(e.user.user_id),1)])])])):(0,r.Q3)("",!0),(0,r.Lk)("button",{onClick:a[0]||(a[0]=function(e){return t("navigate","import")}),class:"btn-label"}," Label Spendings "),(0,r.Lk)("button",{onClick:a[1]||(a[1]=function(e){return t("navigate","categories")}),class:"btn-secondary"}," Manage Categories "),(0,r.Lk)("button",{onClick:a[2]||(a[2]=function(e){return t("signOut")}),class:"btn-signout"}," Sign Out ")])])}}}),Ke=(0,K.A)(Ie,[["__scopeId","data-v-27812659"]]),Oe=Ke;a(9868),a(2762);var Pe={class:"import-page"},Fe={class:"topbar"},Ue={class:"container"},Te={key:0,class:"error-message"},xe=["disabled"],Qe={key:0,class:"results"},We={class:"table-wrapper"},Ne={class:"tx-table"},Me={class:"mono"},De={class:"right"};const Ve=(0,r.pM)({__name:"ImportSpendingsPage",props:{user:{}},emits:["navigate"],setup:function(e,n){var a=n.emit,o=e,c=a,v=(0,l.KR)(""),d=(0,l.KR)(null),p=(0,l.KR)(!1),f=(0,l.KR)([]),k=function(){var e=(0,i.A)((0,s.A)().m(function e(){var n,a,t;return(0,s.A)().w(function(e){while(1)switch(e.p=e.n){case 0:if(d.value=null,f.value=[],null!==(n=o.user)&&void 0!==n&&n.user_id){e.n=1;break}return d.value="You must be signed in to import transactions.",e.a(2);case 1:if(v.value.trim()){e.n=2;break}return d.value="Please paste your CSV content.",e.a(2);case 2:return p.value=!0,e.p=3,e.n=4,g.importTransactions({owner_id:o.user.user_id,fileContent:v.value});case 4:a=e.v,f.value=a,e.n=6;break;case 5:e.p=5,t=e.v,d.value=t instanceof Error?t.message:"Failed to import transactions",console.error("Import error:",t);case 6:return e.p=6,p.value=!1,e.f(6);case 7:return e.a(2)}},e,null,[[3,5,6,7]])}));return function(){return e.apply(this,arguments)}}();return function(e,n){return(0,r.uX)(),(0,r.CE)("div",Pe,[(0,r.Lk)("div",Fe,[(0,r.Lk)("button",{class:"btn-back",onClick:n[0]||(n[0]=function(e){return c("navigate","main")})},"‚Üê Back to Home")]),(0,r.Lk)("div",Ue,[n[3]||(n[3]=(0,r.Lk)("h1",null,"Import Spendings",-1)),n[4]||(n[4]=(0,r.Lk)("p",null,"Paste your CSV file content below to import your transactions.",-1)),(0,r.Lk)("form",{onSubmit:(0,t.D$)(k,["prevent"]),class:"import-form"},[(0,r.bo)((0,r.Lk)("textarea",{"onUpdate:modelValue":n[1]||(n[1]=function(e){return v.value=e}),placeholder:"Paste CSV content here...",rows:"10",class:"csv-textarea"},null,512),[[t.Jo,v.value]]),d.value?((0,r.uX)(),(0,r.CE)("div",Te,"‚ùå "+(0,u.v_)(d.value),1)):(0,r.Q3)("",!0),(0,r.Lk)("button",{type:"submit",class:"btn-upload",disabled:p.value},(0,u.v_)(p.value?"Importing‚Ä¶":"Import CSV"),9,xe)],32),f.value.length>0?((0,r.uX)(),(0,r.CE)("div",Qe,[(0,r.Lk)("h2",null,"Imported Transactions ("+(0,u.v_)(f.value.length)+")",1),(0,r.Lk)("div",We,[(0,r.Lk)("table",Ne,[n[2]||(n[2]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"Tx ID"),(0,r.Lk)("th",null,"Date"),(0,r.Lk)("th",null,"Merchant"),(0,r.Lk)("th",{class:"right"},"Amount"),(0,r.Lk)("th",null,"Status")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(f.value,function(e){return(0,r.uX)(),(0,r.CE)("tr",{key:e.tx_id},[(0,r.Lk)("td",Me,(0,u.v_)(e.tx_id),1),(0,r.Lk)("td",null,(0,u.v_)(e.date),1),(0,r.Lk)("td",null,(0,u.v_)(e.merchant_text),1),(0,r.Lk)("td",De,(0,u.v_)(e.amount.toFixed(2)),1),(0,r.Lk)("td",null,[(0,r.Lk)("span",{class:(0,u.C4)(["status",e.status.toLowerCase()])},(0,u.v_)(e.status),3)])])}),128))])])])])):(0,r.Q3)("",!0)])])}}}),je=(0,K.A)(Ve,[["__scopeId","data-v-4c5a6663"]]),Je=je;a(2008),a(1629),a(4346),a(739),a(2489),a(7588),a(3110),a(3500);var Ye={class:"categories-page"},qe={class:"topbar"},$e={class:"container"},He={class:"header"},Be=["disabled"],ze={class:"add-card"},Ge={class:"add-row"},Ze=["disabled"],en=["disabled"],nn={key:0,class:"error"},an={class:"list-card"},tn={key:0,class:"error"},rn={key:1,class:"loading"},un={key:2},ln={class:"debug-info"},sn={style:{color:"#999"}},on={key:0,class:"empty"},cn={key:0,style:{"margin-top":"0.5rem","font-size":"0.9em",color:"#666"}},vn={key:1,class:"category-list"},dn=["onClick"],pn=["onClick"],fn={class:"edit-status"},kn={class:"name"},gn={class:"owner-id"},mn=["onClick"],bn={class:"list-card debug-card"},hn={key:0,class:"loading"},Ln={key:1,class:"empty"},yn={style:{"margin-top":"1rem","font-size":"0.8em"}},wn={key:2},_n={style:{"margin-bottom":"1rem",padding:"0.5rem",background:"#f8f9fa","border-radius":"4px","font-size":"0.85em"}},An={style:{"margin-top":"0.5rem","overflow-x":"auto"}},Cn={class:"debug-table"},En={key:0,style:{color:"#28a745"}},Rn={key:1,style:{color:"#999"}};const Xn=(0,r.pM)({__name:"CategoriesPage",props:{user:{}},emits:["navigate"],setup:function(e,n){var a=n.emit,o=e,c=a,v=(0,l.KR)([]),d=(0,l.KR)(!1),p=(0,l.KR)(!1),f=(0,l.KR)(null),k=(0,l.KR)(null),g=(0,l.KR)(""),h=function(e){var n,a;if(!e)return null;var t=null!==(n=null!==(a=e.user_id)&&void 0!==a?a:e.id)&&void 0!==n?n:e;if(null==t)return null;if("string"===typeof t)return t;if("object"===(0,m.A)(t)){if("string"===typeof t.value)return t.value;if("object"===(0,m.A)(t.value)&&"string"===typeof t.value.value)return t.value.value}try{return String(t)}catch(r){return null}},L=(0,r.EW)(function(){return h(o.user)}),y=(0,r.EW)(function(){var e=L.value;return e?v.value.filter(function(n){return(n.owner_id||"")===e}):[]}),w=function(){var e=(0,i.A)((0,s.A)().m(function e(){var n,a;return(0,s.A)().w(function(e){while(1)switch(e.p=e.n){case 0:return f.value=null,d.value=!0,e.p=1,e.n=2,b.getCategoryNamesAndOwners();case 2:n=e.v,console.log("Categories API response:",n),console.log("Response type:",(0,m.A)(n),"Is array:",Array.isArray(n)),v.value=n||[],e.n=4;break;case 3:e.p=3,a=e.v,f.value=a instanceof Error?a.message:"Failed to load categories",console.error("Categories fetch error:",a);case 4:return e.p=4,d.value=!1,e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(){return e.apply(this,arguments)}}(),_=function(){var e=(0,i.A)((0,s.A)().m(function e(){var n,a,t,r,u,l;return(0,s.A)().w(function(e){while(1)switch(e.p=e.n){case 0:if(k.value=null,null!==(n=o.user)&&void 0!==n&&n.user_id){e.n=1;break}return k.value="You must be signed in to add a category.",e.a(2);case 1:if(g.value.trim()){e.n=2;break}return k.value="Please enter a category name.",e.a(2);case 2:return p.value=!0,e.p=3,a={owner_id:{value:g.value.trim()},name:g.value.trim()},t={owner_id:g.value.trim(),name:g.value.trim()},console.log("Create payload (object):",a),console.log("Create payload (object) JSON:",JSON.stringify(a)),console.log("Create payload (string):",t),r=L.value||"",e.n=4,b.create({owner_id:r,name:g.value.trim()});case 4:return u=e.v,console.log("Create response (using logged-in user id):",u),g.value="",e.n=5,w();case 5:e.n=7;break;case 6:e.p=6,l=e.v,k.value=l instanceof Error?l.message:"Failed to add category",console.error("Add category error:",l);case 7:return e.p=7,p.value=!1,e.f(7);case 8:return e.a(2)}},e,null,[[3,6,7,8]])}));return function(){return e.apply(this,arguments)}}(),A=(0,l.KR)(null),C=(0,l.KR)(""),E=(0,l.KR)({}),R=function(e,n){A.value=n,C.value=e.name||"",E.value[n]=""},X=function(e){A.value===e&&(A.value=null),C.value="",E.value[e]=""},S=function(){var e=(0,i.A)((0,s.A)().m(function e(n,a){var t,r,u,l,i,o;return(0,s.A)().w(function(e){while(1)switch(e.p=e.n){case 0:if(E.value[a]="",t=C.value.trim(),t){e.n=1;break}return E.value[a]="Please provide a name.",e.a(2);case 1:if(r=L.value||"",E.value[a]="Saving...",e.p=2,u=n.category_id||n.categoryId||null,!u){e.n=4;break}return e.n=3,b.rename({owner_id:r,category_id:u,new_name:t});case 3:E.value[a]="Renamed.",e.n=6;break;case 4:return e.n=5,b.create({owner_id:r,name:t});case 5:E.value[a]="Created new category (rename not possible).";case 6:return e.n=7,w();case 7:l=v.value.filter(function(e){return(e.owner_id||"")===r}),i={},l.forEach(function(e){var n=e.name||"";i[n]=(i[n]||0)+1}),i[t]>1?(E.value[a]="Warning: duplicate category name exists after rename.",console.warn("Duplicate category names for owner",r,t,l)):E.value[a]="Saved.",A.value=null,C.value="",e.n=9;break;case 8:e.p=8,o=e.v,console.error("Rename/create error:",o),E.value[a]=o instanceof Error?o.message:"Failed to save";case 9:return e.a(2)}},e,null,[[2,8]])}));return function(n,a){return e.apply(this,arguments)}}();return(0,r.sV)(function(){w()}),function(n,a){var l;return(0,r.uX)(),(0,r.CE)("div",Ye,[(0,r.Lk)("div",qe,[(0,r.Lk)("button",{class:"btn-back",onClick:a[0]||(a[0]=function(e){return c("navigate","main")})},"‚Üê Back to Home")]),(0,r.Lk)("div",$e,[(0,r.Lk)("div",He,[a[3]||(a[3]=(0,r.Lk)("h1",null,"Categories",-1)),(0,r.Lk)("button",{class:"btn-refresh",onClick:w,disabled:d.value},(0,u.v_)(d.value?"Refreshing‚Ä¶":"üîÑ Refresh"),9,Be)]),(0,r.Lk)("div",ze,[a[4]||(a[4]=(0,r.Lk)("h3",null,"Create New Category",-1)),(0,r.Lk)("div",Ge,[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":a[1]||(a[1]=function(e){return g.value=e}),type:"text",placeholder:"Category name",disabled:p.value},null,8,Ze),[[t.Jo,g.value]]),(0,r.Lk)("button",{class:"btn-primary",onClick:_,disabled:p.value},(0,u.v_)(p.value?"Adding‚Ä¶":"Add Category"),9,en)]),k.value?((0,r.uX)(),(0,r.CE)("div",nn,"‚ùå "+(0,u.v_)(k.value),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",an,[a[7]||(a[7]=(0,r.Lk)("h3",null,"Your Categories",-1)),f.value?((0,r.uX)(),(0,r.CE)("div",tn,"‚ùå "+(0,u.v_)(f.value),1)):d.value?((0,r.uX)(),(0,r.CE)("div",rn,"Loading‚Ä¶")):((0,r.uX)(),(0,r.CE)("div",un,[(0,r.Lk)("div",ln,[(0,r.Lk)("small",sn," All categories: "+(0,u.v_)(v.value.length)+" | Your categories: "+(0,u.v_)(y.value.length)+" | Your user ID: "+(0,u.v_)(null===(l=e.user)||void 0===l?void 0:l.user_id),1)]),0===y.value.length?((0,r.uX)(),(0,r.CE)("div",on,[a[5]||(a[5]=(0,r.eW)(" No categories yet. ",-1)),v.value.length>0?((0,r.uX)(),(0,r.CE)("div",cn," ("+(0,u.v_)(v.value.length)+" total categories exist, but none belong to you) ",1)):(0,r.Q3)("",!0)])):((0,r.uX)(),(0,r.CE)("ul",vn,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(y.value,function(e,n){return(0,r.uX)(),(0,r.CE)("li",{key:(e.category_id||e.name)+":"+e.owner_id},[a[6]||(a[6]=(0,r.Lk)("span",{class:"dot"},null,-1)),A.value===n?((0,r.uX)(),(0,r.CE)(r.FK,{key:0},[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":a[2]||(a[2]=function(e){return C.value=e}),class:"edit-input"},null,512),[[t.Jo,C.value]]),(0,r.Lk)("button",{class:"btn-small",onClick:(0,t.D$)(function(a){return S(e,n)},["prevent"])},"Save",8,dn),(0,r.Lk)("button",{class:"btn-small muted",onClick:(0,t.D$)(function(e){return X(n)},["prevent"])},"Cancel",8,pn),(0,r.Lk)("div",fn,(0,u.v_)(E.value[n]),1)],64)):((0,r.uX)(),(0,r.CE)(r.FK,{key:1},[(0,r.Lk)("span",kn,(0,u.v_)(e.name),1),(0,r.Lk)("span",gn,[(0,r.Lk)("code",null,(0,u.v_)(e.owner_id),1)]),(0,r.Lk)("button",{class:"btn-small",onClick:(0,t.D$)(function(a){return R(e,n)},["prevent"])},"Edit",8,mn)],64))])}),128))]))]))]),(0,r.Lk)("div",bn,[a[11]||(a[11]=(0,r.Lk)("h3",null,"üêõ All Categories (Debug)",-1)),d.value?((0,r.uX)(),(0,r.CE)("div",hn,"Loading‚Ä¶")):0===v.value.length?((0,r.uX)(),(0,r.CE)("div",Ln,[a[8]||(a[8]=(0,r.eW)(" No categories in system. ",-1)),(0,r.Lk)("pre",yn,"Raw data: "+(0,u.v_)(JSON.stringify(v.value,null,2)),1)])):((0,r.uX)(),(0,r.CE)("div",wn,[(0,r.Lk)("div",_n,[a[9]||(a[9]=(0,r.Lk)("strong",null,"Raw JSON response:",-1)),(0,r.Lk)("pre",An,(0,u.v_)(JSON.stringify(v.value,null,2)),1)]),(0,r.Lk)("table",Cn,[a[10]||(a[10]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"Category ID"),(0,r.Lk)("th",null,"Name"),(0,r.Lk)("th",null,"Owner ID"),(0,r.Lk)("th",null,"Is Yours?")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(v.value,function(n,a){var t;return(0,r.uX)(),(0,r.CE)("tr",{key:a},[(0,r.Lk)("td",null,[(0,r.Lk)("code",null,(0,u.v_)(n.category_id||"(none)"),1)]),(0,r.Lk)("td",null,(0,u.v_)(n.name||"(empty)"),1),(0,r.Lk)("td",null,[(0,r.Lk)("code",null,(0,u.v_)(n.owner_id||"(empty)"),1)]),(0,r.Lk)("td",null,[n.owner_id===(null===(t=e.user)||void 0===t?void 0:t.user_id)?((0,r.uX)(),(0,r.CE)("span",En,"‚úì Yes")):((0,r.uX)(),(0,r.CE)("span",Rn,"‚úó No"))])])}),128))])])]))])])])}}}),Sn=(0,K.A)(Xn,[["__scopeId","data-v-270319a3"]]),In=Sn;var Kn={class:"app"},On={key:0,class:"navbar"},Pn={class:"nav-container"},Fn={class:"nav-links"};const Un=(0,r.pM)({__name:"App",setup:function(e){var n=(0,l.KR)("signin"),a=(0,l.KR)(null),t=function(e){"signin"!==e&&"register"!==e&&"users"!==e&&"main"!==e&&"import"!==e&&"categories"!==e||(n.value=e)},s=function(e){a.value=e,n.value="main"},i=function(){a.value=null,n.value="signin"};return function(e,l){return(0,r.uX)(),(0,r.CE)("div",Kn,["main"!==n.value?((0,r.uX)(),(0,r.CE)("nav",On,[(0,r.Lk)("div",Pn,[l[3]||(l[3]=(0,r.Lk)("h1",{class:"logo"},"FlashFinance",-1)),(0,r.Lk)("div",Fn,[(0,r.Lk)("button",{onClick:l[0]||(l[0]=function(e){return t("signin")}),class:(0,u.C4)([{active:"signin"===n.value},"nav-btn"])}," Sign In ",2),(0,r.Lk)("button",{onClick:l[1]||(l[1]=function(e){return t("register")}),class:(0,u.C4)([{active:"register"===n.value},"nav-btn"])}," Register ",2),(0,r.Lk)("button",{onClick:l[2]||(l[2]=function(e){return t("users")}),class:(0,u.C4)([{active:"users"===n.value},"nav-btn"])}," View Users ",2)])])])):(0,r.Q3)("",!0),"signin"===n.value?((0,r.uX)(),(0,r.Wv)(P,{key:1,onNavigate:t,onSignIn:s})):(0,r.Q3)("",!0),"register"===n.value?((0,r.uX)(),(0,r.Wv)(B,{key:2,onNavigate:t})):(0,r.Q3)("",!0),"users"===n.value?((0,r.uX)(),(0,r.Wv)(be,{key:3,onNavigate:t})):(0,r.Q3)("",!0),"main"===n.value?((0,r.uX)(),(0,r.Wv)(Oe,{key:4,user:a.value,onSignOut:i,onNavigate:t},null,8,["user"])):(0,r.Q3)("",!0),"import"===n.value?((0,r.uX)(),(0,r.Wv)(Je,{key:5,user:a.value,onNavigate:t},null,8,["user"])):(0,r.Q3)("",!0),"categories"===n.value?((0,r.uX)(),(0,r.Wv)(In,{key:6,user:a.value,onNavigate:t},null,8,["user"])):(0,r.Q3)("",!0)])}}}),Tn=Un,xn=Tn;(0,t.Ef)(xn).mount("#app")}},n={};function a(t){var r=n[t];if(void 0!==r)return r.exports;var u=n[t]={exports:{}};return e[t].call(u.exports,u,u.exports,a),u.exports}a.m=e,(()=>{var e=[];a.O=(n,t,r,u)=>{if(!t){var l=1/0;for(c=0;c<e.length;c++){for(var[t,r,u]=e[c],s=!0,i=0;i<t.length;i++)(!1&u||l>=u)&&Object.keys(a.O).every(e=>a.O[e](t[i]))?t.splice(i--,1):(s=!1,u<l&&(l=u));if(s){e.splice(c--,1);var o=r();void 0!==o&&(n=o)}}return n}u=u||0;for(var c=e.length;c>0&&e[c-1][2]>u;c--)e[c]=e[c-1];e[c]=[t,r,u]}})(),(()=>{a.n=e=>{var n=e&&e.__esModule?()=>e["default"]:()=>e;return a.d(n,{a:n}),n}})(),(()=>{a.d=(e,n)=>{for(var t in n)a.o(n,t)&&!a.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})}})(),(()=>{a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{a.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n)})(),(()=>{a.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{var e={524:0};a.O.j=n=>0===e[n];var n=(n,t)=>{var r,u,[l,s,i]=t,o=0;if(l.some(n=>0!==e[n])){for(r in s)a.o(s,r)&&(a.m[r]=s[r]);if(i)var c=i(a)}for(n&&n(t);o<l.length;o++)u=l[o],a.o(e,u)&&e[u]&&e[u][0](),e[u]=0;return a.O(c)},t=self["webpackChunkflashfinance_ui"]=self["webpackChunkflashfinance_ui"]||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))})();var t=a.O(void 0,[504],()=>a(3267));t=a.O(t)})();
//# sourceMappingURL=app.67e35aff.js.map