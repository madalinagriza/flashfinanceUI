(()=>{"use strict";var e={7539:(e,n,a)=>{a(3792),a(3362),a(9085),a(9391);var t=a(5130),r=(a(4423),a(6768)),l=a(4232),u=a(144),i=a(908),o=a(388),s=(a(2010),a(6031),a(5026)),c=a(9492),v=(a(6280),a(6918),a(8706),a(4185),a(6184)),d="/api",f=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;(0,s.A)(this,e),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.client=v.A.create({baseURL:n,headers:{"Content-Type":"application/json"}}),this.client.interceptors.response.use(function(e){return e},function(e){var n;if(null!==(n=e.response)&&void 0!==n&&n.data){var a=e.response.data;throw new Error(a.error||"HTTP ".concat(e.response.status,": ").concat(e.message))}throw new Error(e.message||"An unexpected error occurred")})}return(0,c.A)(e,[{key:"post",value:function(){var e=(0,o.A)((0,i.A)().m(function e(n,a){var t;return(0,i.A)().w(function(e){while(1)switch(e.n){case 0:return e.n=1,this.client.post(n,a);case 1:return t=e.v,e.a(2,t.data)}},e,this)}));function n(n,a){return e.apply(this,arguments)}return n}()},{key:"get",value:function(){var e=(0,o.A)((0,i.A)().m(function e(n){var a;return(0,i.A)().w(function(e){while(1)switch(e.n){case 0:return e.n=1,this.client.get(n);case 1:return a=e.v,e.a(2,a.data)}},e,this)}));function n(n){return e.apply(this,arguments)}return n}()}])}(),g=new f,p={register:function(e){return(0,o.A)((0,i.A)().m(function n(){return(0,i.A)().w(function(n){while(1)switch(n.n){case 0:return n.a(2,g.post("/User/register",e))}},n)}))()},authenticate:function(e){return(0,o.A)((0,i.A)().m(function n(){return(0,i.A)().w(function(n){while(1)switch(n.n){case 0:return n.a(2,g.post("/User/authenticate",e))}},n)}))()},deactivate:function(e){return(0,o.A)((0,i.A)().m(function n(){return(0,i.A)().w(function(n){while(1)switch(n.n){case 0:return n.a(2,g.post("/User/deactivate",e))}},n)}))()},changePassword:function(e){return(0,o.A)((0,i.A)().m(function n(){return(0,i.A)().w(function(n){while(1)switch(n.n){case 0:return n.a(2,g.post("/User/changePassword",e))}},n)}))()},reactivate:function(e){return(0,o.A)((0,i.A)().m(function n(){return(0,i.A)().w(function(n){while(1)switch(n.n){case 0:return n.a(2,g.post("/User/reactivate",e))}},n)}))()},all:function(){return(0,o.A)((0,i.A)().m(function e(){return(0,i.A)().w(function(e){while(1)switch(e.n){case 0:return e.a(2,g.post("/User/all",{}))}},e)}))()}},k=(a(4346),{importTransactions:function(e){return(0,o.A)((0,i.A)().m(function n(){var a,t,r,l,u;return(0,i.A)().w(function(n){while(1)switch(n.p=n.n){case 0:return a="/Transaction/import_transactions",t="/Transaction/importTransactions",n.p=1,n.n=2,g.post(a,e);case 2:return r=n.v,console.debug("transactionApi.importTransactions: used",a),n.a(2,Array.isArray(r)?r:[]);case 3:return n.p=3,u=n.v,console.warn("importTransactions primary endpoint ".concat(a," failed (").concat(String(null===u||void 0===u?void 0:u.message),"), trying fallback ").concat(t)),n.n=4,g.post(t,e);case 4:return l=n.v,console.debug("transactionApi.importTransactions: used",t),n.a(2,Array.isArray(l)?l:[])}},n,null,[[1,3]])}))()},markLabeled:function(e){return(0,o.A)((0,i.A)().m(function n(){return(0,i.A)().w(function(n){while(1)switch(n.n){case 0:return n.a(2,g.post("/Transaction/mark_labeled",e))}},n)}))()},getTransaction:function(e){return(0,o.A)((0,i.A)().m(function n(){return(0,i.A)().w(function(n){while(1)switch(n.n){case 0:return n.a(2,g.post("/Transaction/getTransaction",e))}},n)}))()},listAll:function(){return(0,o.A)((0,i.A)().m(function e(){return(0,i.A)().w(function(e){while(1)switch(e.n){case 0:return e.a(2,g.post("/Transaction/list_all",{}))}},e)}))()},getUnlabeledTransactions:function(e){return(0,o.A)((0,i.A)().m(function n(){var a,t,r,l,u;return(0,i.A)().w(function(n){while(1)switch(n.p=n.n){case 0:return a="/Transaction/get_unlabeled_transactions",t="/Transaction/getUnlabeledTransactions",n.p=1,n.n=2,g.post(a,e);case 2:return r=n.v,console.debug("transactionApi.getUnlabeledTransactions: used",a),n.a(2,r);case 3:return n.p=3,u=n.v,console.warn("getUnlabeledTransactions primary endpoint ".concat(a," failed (").concat(String(null===u||void 0===u?void 0:u.message),"), trying fallback ").concat(t)),n.n=4,g.post(t,e);case 4:return l=n.v,console.debug("transactionApi.getUnlabeledTransactions: used",t),n.a(2,l)}},n,null,[[1,3]])}))()}}),m=a(4119),b=(a(2008),a(2062),a(8111),a(2489),a(1701),a(6099),a(7764),a(2953),a(3604)),h=(a(2762),function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"bigint"===typeof e)return String(e);if("object"===(0,m.A)(e))for(var n=e,a=[n.$oid,n.id,n._id,n.value,n.tx_id,n.txId,n.category_id,n.categoryId,n.user_id,n.userId,n.owner_id,n.ownerId],t=0,r=a;t<r.length;t++){var l=r[t];if(null!=l){if("string"===typeof l&&l.trim())return l;if("number"===typeof l||"bigint"===typeof l)return String(l)}}try{return String(e)}catch(u){return null}}),y=function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"bigint"===typeof e)return String(e);if(Array.isArray(e)){var n,a=(0,b.A)(e);try{for(a.s();!(n=a.n()).done;){var t=n.value,r=y(t);if(r)return r}}catch(c){a.e(c)}finally{a.f()}return null}if("object"===(0,m.A)(e))for(var l=e,u=[l.name,l.label,l.value],i=0,o=u;i<o.length;i++){var s=o[i];if("string"===typeof s&&s.trim())return s}try{return String(e)}catch(v){return null}},w={create:function(e){return(0,o.A)((0,i.A)().m(function n(){return(0,i.A)().w(function(n){while(1)switch(n.n){case 0:return n.a(2,g.post("/Category/create",e))}},n)}))()},rename:function(e){return(0,o.A)((0,i.A)().m(function n(){return(0,i.A)().w(function(n){while(1)switch(n.n){case 0:return n.a(2,g.post("/Category/rename",e))}},n)}))()},delete:function(e){return(0,o.A)((0,i.A)().m(function n(){return(0,i.A)().w(function(n){while(1)switch(n.n){case 0:return n.a(2,g.post("/Category/delete",e))}},n)}))()},getCategoryNamesAndOwners:function(e){return(0,o.A)((0,i.A)().m(function n(){var a;return(0,i.A)().w(function(n){while(1)switch(n.n){case 0:return n.n=1,g.post("/Category/getCategoryNamesAndOwners",{owner_id:e});case 1:return a=n.v,n.a(2,(a||[]).map(function(n){var a,t,r,l,u=null!==(a=null!==(t=h(null===n||void 0===n?void 0:n.category_id))&&void 0!==t?t:h(null===n||void 0===n?void 0:n._id))&&void 0!==a?a:h(n);if(!u)return null;var i=null!==(r=h(null===n||void 0===n?void 0:n.owner_id))&&void 0!==r?r:e,o=null!==(l=y(null===n||void 0===n?void 0:n.name))&&void 0!==l?l:"";return{category_id:u,name:o,owner_id:i}}).filter(function(e){return null!==e}))}},n)}))()},getCategoriesFromOwner:function(e){return(0,o.A)((0,i.A)().m(function n(){var a;return(0,i.A)().w(function(n){while(1)switch(n.n){case 0:return n.n=1,g.post("/Category/getCategoriesFromOwner",{owner_id:e});case 1:return a=n.v,n.a(2,(a||[]).map(function(e){var n,a,t=null!==(n=null!==(a=h(null===e||void 0===e?void 0:e.category_id))&&void 0!==a?a:h(null===e||void 0===e?void 0:e._id))&&void 0!==n?n:h(e);return t?{category_id:t}:null}).filter(function(e){return null!==e}))}},n)}))()},getCategoryNameById:function(e){return(0,o.A)((0,i.A)().m(function n(){return(0,i.A)().w(function(n){while(1)switch(n.n){case 0:return n.a(2,g.post("/Category/getCategoryNameById",e))}},n)}))()},addTransaction:function(e){return(0,o.A)((0,i.A)().m(function n(){return(0,i.A)().w(function(n){while(1)switch(n.n){case 0:return n.a(2,g.post("/Category/addTransaction",e))}},n)}))()},removeTransaction:function(e){return(0,o.A)((0,i.A)().m(function n(){return(0,i.A)().w(function(n){while(1)switch(n.n){case 0:return n.a(2,g.post("/Category/removeTransaction",e))}},n)}))()},moveTransactionToTrash:function(e){return(0,o.A)((0,i.A)().m(function n(){return(0,i.A)().w(function(n){while(1)switch(n.n){case 0:return n.a(2,g.post("/Category/moveTransactionToTrash",e))}},n)}))()},getCategoriesWithNames:function(e){var n=this;return(0,o.A)((0,i.A)().m(function a(){var t,r;return(0,i.A)().w(function(a){while(1)switch(a.n){case 0:return a.n=1,n.getCategoriesFromOwner(e);case 1:if(t=a.v,Array.isArray(t)&&0!==t.length){a.n=2;break}return a.a(2,[]);case 2:return a.n=3,Promise.all(t.map(function(){var a=(0,o.A)((0,i.A)().m(function a(t){var r,l,u,o,s,c,v;return(0,i.A)().w(function(a){while(1)switch(a.p=a.n){case 0:if(r=t.category_id,l=h(r),l){a.n=1;break}return a.a(2,null);case 1:return a.p=1,a.n=2,n.getCategoryNameById({owner_id:e,category_id:l});case 2:return s=a.v,c=null!==(u=null!==(o=y(s))&&void 0!==o?o:y(null===s||void 0===s?void 0:s.name))&&void 0!==u?u:l,a.a(2,{category_id:l,name:c||l,owner_id:e});case 3:return a.p=3,v=a.v,console.error("getCategoriesWithNames: failed to resolve name",l,v),a.a(2,{category_id:l,name:l,owner_id:e})}},a,null,[[1,3]])}));return function(e){return a.apply(this,arguments)}}()));case 3:return r=a.v,a.a(2,r.filter(function(e){return null!==e}))}},a)}))()},listTransactions:function(e){return(0,o.A)((0,i.A)().m(function n(){var a;return(0,i.A)().w(function(n){while(1)switch(n.n){case 0:return n.n=1,g.post("/Category/listTransactions",e);case 1:return a=n.v,n.a(2,Array.isArray(a)?a:[])}},n)}))()},getMetricStats:function(e){return(0,o.A)((0,i.A)().m(function n(){var a;return(0,i.A)().w(function(n){while(1)switch(n.n){case 0:return n.n=1,g.post("/Category/getMetricStats",e);case 1:if(a=n.v,!a||"object"!==(0,m.A)(a)||!("total_amount"in a)){n.n=2;break}return n.a(2,a);case 2:return n.a(2,null)}},n)}))()}},L={stage:function(e){return(0,o.A)((0,i.A)().m(function n(){return(0,i.A)().w(function(n){while(1)switch(n.n){case 0:return n.a(2,g.post("/Label/stage",e))}},n)}))()},discard:function(e){return(0,o.A)((0,i.A)().m(function n(){return(0,i.A)().w(function(n){while(1)switch(n.n){case 0:return n.a(2,g.post("/Label/discard",e))}},n)}))()},finalize:function(e){return(0,o.A)((0,i.A)().m(function n(){return(0,i.A)().w(function(n){while(1)switch(n.n){case 0:return n.a(2,g.post("/Label/finalize",e))}},n)}))()},cancel:function(e){return(0,o.A)((0,i.A)().m(function n(){return(0,i.A)().w(function(n){while(1)switch(n.n){case 0:return n.a(2,g.post("/Label/cancel",e))}},n)}))()},update:function(e){return(0,o.A)((0,i.A)().m(function n(){return(0,i.A)().w(function(n){while(1)switch(n.n){case 0:return n.a(2,g.post("/Label/update",e))}},n)}))()},remove:function(e){return(0,o.A)((0,i.A)().m(function n(){return(0,i.A)().w(function(n){while(1)switch(n.n){case 0:return n.a(2,g.post("/Label/remove",e))}},n)}))()},getStagedLabels:function(e){return(0,o.A)((0,i.A)().m(function n(){return(0,i.A)().w(function(n){while(1)switch(n.n){case 0:return n.a(2,g.post("/Label/getStagedLabels",e))}},n)}))()},getLabel:function(e){return(0,o.A)((0,i.A)().m(function n(){return(0,i.A)().w(function(n){while(1)switch(n.n){case 0:return n.a(2,g.post("/Label/getLabel",e))}},n)}))()},getTxInfo:function(e){return(0,o.A)((0,i.A)().m(function n(){return(0,i.A)().w(function(n){while(1)switch(n.n){case 0:return n.a(2,g.post("/Label/getTxInfo",e))}},n)}))()},getCategoryHistory:function(e){return(0,o.A)((0,i.A)().m(function n(){return(0,i.A)().w(function(n){while(1)switch(n.n){case 0:return n.a(2,g.post("/Label/getCategoryHistory",e))}},n)}))()},all:function(e){return(0,o.A)((0,i.A)().m(function n(){return(0,i.A)().w(function(n){while(1)switch(n.n){case 0:return n.a(2,g.post("/Label/all",e))}},n)}))()},hasAnyLabelsForCategory:function(e){return(0,o.A)((0,i.A)().m(function n(){return(0,i.A)().w(function(n){while(1)switch(n.n){case 0:return n.a(2,g.post("/Label/hasAnyLabelsForCategory",e))}},n)}))()},suggest:function(e){return(0,o.A)((0,i.A)().m(function n(){return(0,i.A)().w(function(n){while(1)switch(n.n){case 0:return n.a(2,g.post("/Label/suggest",e))}},n)}))()}},_={class:"signin-page"},A={class:"topbar"},C={class:"signin-card"},E={class:"form-group"},x=["disabled"],X={class:"form-group"},I=["disabled"],S={key:0,class:"error-message"},T={key:1,class:"success-message"},R=["disabled"],K={class:"footer-text"};const F=(0,r.pM)({__name:"SignInPage",emits:["navigate","signIn"],setup:function(e,n){var a=n.emit,s=a,c=(0,u.KR)(""),v=(0,u.KR)(""),d=(0,u.KR)(!1),f=(0,u.KR)(null),g=(0,u.KR)(!1),k=(0,u.KR)(null),m=function(){var e=(0,o.A)((0,i.A)().m(function e(){var n,a;return(0,i.A)().w(function(e){while(1)switch(e.p=e.n){case 0:if(f.value=null,g.value=!1,c.value&&v.value){e.n=1;break}return f.value="Email and password are required",e.a(2);case 1:return d.value=!0,e.p=2,e.n=3,p.authenticate({email:c.value,password:v.value});case 3:n=e.v,k.value=n,g.value=!0,setTimeout(function(){s("signIn",n)},1e3),e.n=5;break;case 4:e.p=4,a=e.v,f.value="Authentication Failed: Invalid email or password",console.error("Sign in error:",a);case 5:return e.p=5,d.value=!1,e.f(5);case 6:return e.a(2)}},e,null,[[2,4,5,6]])}));return function(){return e.apply(this,arguments)}}();return function(e,n){var a,u;return(0,r.uX)(),(0,r.CE)("div",_,[(0,r.Lk)("div",A,[(0,r.Lk)("button",{class:"btn-back",onClick:n[0]||(n[0]=function(e){return s("navigate","main")})},"← Back to Home")]),(0,r.Lk)("div",C,[n[8]||(n[8]=(0,r.Lk)("h2",null,"Sign In",-1)),n[9]||(n[9]=(0,r.Lk)("p",{class:"subtitle"},"Welcome back to FlashFinance",-1)),(0,r.Lk)("form",{onSubmit:(0,t.D$)(m,["prevent"])},[(0,r.Lk)("div",E,[n[4]||(n[4]=(0,r.Lk)("label",{for:"email"},"Email",-1)),(0,r.bo)((0,r.Lk)("input",{id:"email","onUpdate:modelValue":n[1]||(n[1]=function(e){return c.value=e}),type:"email",placeholder:"Enter your email",disabled:d.value,required:""},null,8,x),[[t.Jo,c.value]])]),(0,r.Lk)("div",X,[n[5]||(n[5]=(0,r.Lk)("label",{for:"password"},"Password",-1)),(0,r.bo)((0,r.Lk)("input",{id:"password","onUpdate:modelValue":n[2]||(n[2]=function(e){return v.value=e}),type:"password",placeholder:"Enter your password",disabled:d.value,required:""},null,8,I),[[t.Jo,v.value]])]),f.value?((0,r.uX)(),(0,r.CE)("div",S," ❌ "+(0,l.v_)(f.value),1)):(0,r.Q3)("",!0),g.value?((0,r.uX)(),(0,r.CE)("div",T,[(0,r.eW)(" ✅ Welcome back, "+(0,l.v_)(null===(a=k.value)||void 0===a?void 0:a.name)+"! ",1),n[6]||(n[6]=(0,r.Lk)("br",null,null,-1)),(0,r.Lk)("small",null,"Status: "+(0,l.v_)(null===(u=k.value)||void 0===u?void 0:u.status),1)])):(0,r.Q3)("",!0),(0,r.Lk)("button",{type:"submit",class:"btn-primary",disabled:d.value},(0,l.v_)(d.value?"Signing In...":"Sign In"),9,R)],32),(0,r.Lk)("div",K,[n[7]||(n[7]=(0,r.eW)(" Don't have an account? ",-1)),(0,r.Lk)("a",{href:"#",onClick:n[3]||(n[3]=(0,t.D$)(function(n){return e.$emit("navigate","register")},["prevent"]))},"Register")])])])}}});var D=a(1241);const Q=(0,D.A)(F,[["__scopeId","data-v-c2201bb0"]]),N=Q;var U={class:"register-page"},W={class:"topbar"},M={class:"register-card"},O={class:"form-group"},P=["disabled"],V={class:"form-group"},z=["disabled"],j={class:"form-group"},B=["disabled"],J={class:"form-group"},H=["disabled"],Y={key:0,class:"error-message"},q={key:1,class:"success-message"},$=["disabled"];const G=(0,r.pM)({__name:"RegisterPage",emits:["navigate"],setup:function(e,n){var a=n.emit,s=a,c=(0,u.KR)(""),v=(0,u.KR)(""),d=(0,u.KR)(""),f=(0,u.KR)(""),g=(0,u.KR)(!1),k=(0,u.KR)(null),m=(0,u.KR)(!1),b=(0,u.KR)(null),h=function(){c.value="",v.value="",d.value="",f.value="",k.value=null},y=function(){var e=(0,o.A)((0,i.A)().m(function e(){var n,a;return(0,i.A)().w(function(e){while(1)switch(e.p=e.n){case 0:if(k.value=null,m.value=!1,c.value&&v.value&&d.value){e.n=1;break}return k.value="All fields are required",e.a(2);case 1:if(d.value===f.value){e.n=2;break}return k.value="Passwords do not match",e.a(2);case 2:if(!(d.value.length<6)){e.n=3;break}return k.value="Password must be at least 6 characters",e.a(2);case 3:return g.value=!0,e.p=4,e.n=5,p.register({email:c.value,name:v.value,password:d.value});case 5:n=e.v,b.value=n,m.value=!0,h(),setTimeout(function(){s("navigate","signin")},1500),e.n=7;break;case 6:e.p=6,a=e.v,k.value="Registration Failed: Email already in use",console.error("Registration error:",a);case 7:return e.p=7,g.value=!1,e.f(7);case 8:return e.a(2)}},e,null,[[4,6,7,8]])}));return function(){return e.apply(this,arguments)}}();return function(e,n){var a,u;return(0,r.uX)(),(0,r.CE)("div",U,[(0,r.Lk)("div",W,[(0,r.Lk)("button",{class:"btn-back",onClick:n[0]||(n[0]=function(e){return s("navigate","main")})},"← Back to Home")]),(0,r.Lk)("div",M,[n[10]||(n[10]=(0,r.Lk)("h2",null,"Create Account",-1)),n[11]||(n[11]=(0,r.Lk)("p",{class:"subtitle"},"Sign up for FlashFinance",-1)),(0,r.Lk)("form",{onSubmit:(0,t.D$)(y,["prevent"])},[(0,r.Lk)("div",O,[n[5]||(n[5]=(0,r.Lk)("label",{for:"name"},"Full Name",-1)),(0,r.bo)((0,r.Lk)("input",{id:"name","onUpdate:modelValue":n[1]||(n[1]=function(e){return v.value=e}),type:"text",placeholder:"Enter your full name",disabled:g.value,required:""},null,8,P),[[t.Jo,v.value]])]),(0,r.Lk)("div",V,[n[6]||(n[6]=(0,r.Lk)("label",{for:"email"},"Email",-1)),(0,r.bo)((0,r.Lk)("input",{id:"email","onUpdate:modelValue":n[2]||(n[2]=function(e){return c.value=e}),type:"email",placeholder:"Enter your email",disabled:g.value,required:""},null,8,z),[[t.Jo,c.value]])]),(0,r.Lk)("div",j,[n[7]||(n[7]=(0,r.Lk)("label",{for:"password"},"Password",-1)),(0,r.bo)((0,r.Lk)("input",{id:"password","onUpdate:modelValue":n[3]||(n[3]=function(e){return d.value=e}),type:"password",placeholder:"Enter password (min 6 characters)",disabled:g.value,required:""},null,8,B),[[t.Jo,d.value]])]),(0,r.Lk)("div",J,[n[8]||(n[8]=(0,r.Lk)("label",{for:"confirm-password"},"Confirm Password",-1)),(0,r.bo)((0,r.Lk)("input",{id:"confirm-password","onUpdate:modelValue":n[4]||(n[4]=function(e){return f.value=e}),type:"password",placeholder:"Confirm your password",disabled:g.value,required:""},null,8,H),[[t.Jo,f.value]])]),k.value?((0,r.uX)(),(0,r.CE)("div",Y," ❌ "+(0,l.v_)(k.value),1)):(0,r.Q3)("",!0),m.value?((0,r.uX)(),(0,r.CE)("div",q,[(0,r.eW)(" ✅ Registration successful! Welcome, "+(0,l.v_)(null===(a=b.value)||void 0===a?void 0:a.name)+"! ",1),n[9]||(n[9]=(0,r.Lk)("br",null,null,-1)),(0,r.Lk)("small",null,"User ID: "+(0,l.v_)(null===(u=b.value)||void 0===u?void 0:u.user_id),1)])):(0,r.Q3)("",!0),(0,r.Lk)("button",{type:"submit",class:"btn-primary",disabled:g.value},(0,l.v_)(g.value?"Creating Account...":"Register"),9,$)],32),n[12]||(n[12]=(0,r.Lk)("div",{class:"footer-text"},[(0,r.eW)(" Already have an account? "),(0,r.Lk)("a",{href:"#"},"Sign in")],-1))])])}}}),Z=(0,D.A)(G,[["__scopeId","data-v-efcff3bc"]]),ee=Z;var ne=a(9258),ae={class:"users-page"},te={class:"topbar"},re={class:"container"},le={class:"header"},ue=["disabled"],ie={key:0,class:"loading"},oe={key:1,class:"error-message"},se={key:2,class:"empty-state"},ce={key:3,class:"users-grid"},ve={class:"user-header"},de={class:"user-avatar"},fe={class:"user-info"},ge={class:"user-email"},pe={class:"user-details"},ke={class:"detail-item"},me={class:"value"},be={class:"detail-item"},he={key:4,class:"footer"};const ye=(0,r.pM)({__name:"UsersPage",emits:["navigate"],setup:function(e,n){var a=n.emit,t=a,s=(0,u.KR)([]),c=(0,u.KR)(!1),v=(0,u.KR)(null),d=function(){var e=(0,o.A)((0,i.A)().m(function e(){var n;return(0,i.A)().w(function(e){while(1)switch(e.p=e.n){case 0:return c.value=!0,v.value=null,e.p=1,e.n=2,p.all();case 2:s.value=e.v,e.n=4;break;case 3:e.p=3,n=e.v,v.value=n instanceof Error?n.message:"Failed to fetch users",console.error("Error fetching users:",n);case 4:return e.p=4,c.value=!1,e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(){return e.apply(this,arguments)}}();return(0,r.sV)(function(){d()}),function(e,n){return(0,r.uX)(),(0,r.CE)("div",ae,[(0,r.Lk)("div",te,[(0,r.Lk)("button",{class:"btn-back",onClick:n[0]||(n[0]=function(e){return t("navigate","main")})},"← Back to Home")]),(0,r.Lk)("div",re,[(0,r.Lk)("div",le,[n[1]||(n[1]=(0,r.Lk)("h1",null,"All Users",-1)),(0,r.Lk)("button",{onClick:d,disabled:c.value,class:"btn-refresh"},(0,l.v_)(c.value?"Refreshing...":"🔄 Refresh"),9,ue)]),c.value&&0===s.value.length?((0,r.uX)(),(0,r.CE)("div",ie," Loading users... ")):(0,r.Q3)("",!0),v.value?((0,r.uX)(),(0,r.CE)("div",oe," ❌ "+(0,l.v_)(v.value),1)):(0,r.Q3)("",!0),c.value||0!==s.value.length||v.value?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("div",se,(0,ne.A)(n[2]||(n[2]=[(0,r.Lk)("p",null,"No users found.",-1),(0,r.Lk)("p",{class:"hint"},"Register a new user to get started.",-1)])))),s.value.length>0?((0,r.uX)(),(0,r.CE)("div",ce,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(s.value,function(e){return(0,r.uX)(),(0,r.CE)("div",{key:e.user_id,class:"user-card"},[(0,r.Lk)("div",ve,[(0,r.Lk)("div",de,(0,l.v_)(e.name.charAt(0).toUpperCase()),1),(0,r.Lk)("div",fe,[(0,r.Lk)("h3",null,(0,l.v_)(e.name),1),(0,r.Lk)("p",ge,(0,l.v_)(e.email),1)])]),(0,r.Lk)("div",pe,[(0,r.Lk)("div",ke,[n[3]||(n[3]=(0,r.Lk)("span",{class:"label"},"User ID:",-1)),(0,r.Lk)("span",me,(0,l.v_)(e.user_id),1)]),(0,r.Lk)("div",be,[n[4]||(n[4]=(0,r.Lk)("span",{class:"label"},"Status:",-1)),(0,r.Lk)("span",{class:(0,l.C4)(["status-badge",e.status.toLowerCase()])},(0,l.v_)(e.status),3)])])])}),128))])):(0,r.Q3)("",!0),s.value.length>0?((0,r.uX)(),(0,r.CE)("div",he,[(0,r.Lk)("p",null,[n[5]||(n[5]=(0,r.eW)("Total Users: ",-1)),(0,r.Lk)("strong",null,(0,l.v_)(s.value.length),1)])])):(0,r.Q3)("",!0)])])}}}),we=(0,D.A)(ye,[["__scopeId","data-v-22076460"]]),Le=we;var _e={class:"main-page"},Ae={class:"container"},Ce={class:"welcome-section"},Ee={key:0,class:"greeting"},xe={key:0,class:"user-info"},Xe={class:"info-card"},Ie={class:"info-item"},Se={class:"value"},Te={class:"info-item"},Re={class:"info-item"},Ke={class:"value"};const Fe=(0,r.pM)({__name:"MainPage",props:{user:{}},emits:["signOut","navigate"],setup:function(e,n){var a=n.emit,t=a;return function(n,a){return(0,r.uX)(),(0,r.CE)("div",_e,[(0,r.Lk)("div",Ae,[(0,r.Lk)("div",Ce,[a[6]||(a[6]=(0,r.Lk)("h1",null,"Welcome to FlashFinance",-1)),e.user?((0,r.uX)(),(0,r.CE)("p",Ee,[a[4]||(a[4]=(0,r.eW)("Hello, ",-1)),(0,r.Lk)("strong",null,(0,l.v_)(e.user.name),1),a[5]||(a[5]=(0,r.eW)("!",-1))])):(0,r.Q3)("",!0),a[7]||(a[7]=(0,r.Lk)("p",{class:"subtitle"},"Your personal finance management dashboard",-1))]),a[12]||(a[12]=(0,r.Lk)("div",{class:"content-section"},[(0,r.Lk)("div",{class:"placeholder-card"},[(0,r.Lk)("h2",null,"🎯 Getting Started"),(0,r.Lk)("p",null,"Your main dashboard will appear here."),(0,r.Lk)("ul",{class:"feature-list"},[(0,r.Lk)("li",null,"Import and categorize transactions"),(0,r.Lk)("li",null,"Track spending by category"),(0,r.Lk)("li",null,"Set and monitor budgets"),(0,r.Lk)("li",null,"View financial insights")])])],-1)),e.user?((0,r.uX)(),(0,r.CE)("div",xe,[(0,r.Lk)("div",Xe,[a[11]||(a[11]=(0,r.Lk)("h3",null,"Account Information",-1)),(0,r.Lk)("div",Ie,[a[8]||(a[8]=(0,r.Lk)("span",{class:"label"},"Email:",-1)),(0,r.Lk)("span",Se,(0,l.v_)(e.user.email),1)]),(0,r.Lk)("div",Te,[a[9]||(a[9]=(0,r.Lk)("span",{class:"label"},"Status:",-1)),(0,r.Lk)("span",{class:(0,l.C4)(["status-badge",e.user.status.toLowerCase()])},(0,l.v_)(e.user.status),3)]),(0,r.Lk)("div",Re,[a[10]||(a[10]=(0,r.Lk)("span",{class:"label"},"User ID:",-1)),(0,r.Lk)("span",Ke,(0,l.v_)(e.user.user_id),1)])])])):(0,r.Q3)("",!0),(0,r.Lk)("button",{onClick:a[0]||(a[0]=function(e){return t("navigate","import")}),class:"btn-primary"}," Import Transactions "),(0,r.Lk)("button",{onClick:a[1]||(a[1]=function(e){return t("navigate","unlabeled")}),class:"btn-secondary"}," View Unlabeled Transactions "),(0,r.Lk)("button",{onClick:a[2]||(a[2]=function(e){return t("navigate","categories")}),class:"btn-secondary"}," Manage Categories "),(0,r.Lk)("button",{onClick:a[3]||(a[3]=function(e){return t("signOut")}),class:"btn-signout"}," Sign Out ")])])}}}),De=(0,D.A)(Fe,[["__scopeId","data-v-d516827a"]]),Qe=De;a(9868);var Ne={class:"import-page"},Ue={class:"topbar"},We={class:"container"},Me={class:"file-picker"},Oe=["disabled"],Pe={key:0,class:"file-status"},Ve={key:0},ze={key:1,class:"error-message"},je=["disabled"],Be={key:0,class:"results"},Je={class:"table-wrapper"},He={class:"tx-table"},Ye={class:"mono"},qe={class:"right"};const $e=(0,r.pM)({__name:"ImportSpendingsPage",props:{user:{}},emits:["navigate"],setup:function(e,n){var a=n.emit,s=e,c=a,v=(0,u.KR)(""),d=(0,u.KR)(null),f=(0,u.KR)(!1),g=(0,u.KR)(!1),p=(0,u.KR)(null),m=(0,u.KR)([]),b=function(e){var n,a;return h(null!==(n=null!==(a=null===e||void 0===e?void 0:e.user_id)&&void 0!==a?a:null===e||void 0===e?void 0:e.id)&&void 0!==n?n:e)},y=(0,r.EW)(function(){return b(s.user)}),w=function(){var e=(0,o.A)((0,i.A)().m(function e(n){var a,t;return(0,i.A)().w(function(e){while(1)switch(e.p=e.n){case 0:if(d.value=null,m.value=[],a=y.value,a){e.n=1;break}return d.value="You must be signed in to import transactions.",e.a(2);case 1:if(n.trim()){e.n=2;break}return d.value="No CSV content found to import.",e.a(2);case 2:return f.value=!0,e.p=3,e.n=4,k.importTransactions({owner_id:a,fileContent:n});case 4:c("navigate","unlabeled"),e.n=6;break;case 5:e.p=5,t=e.v,d.value=t instanceof Error?t.message:"Failed to import transactions",console.error("Import error:",t);case 6:return e.p=6,f.value=!1,e.f(6);case 7:return e.a(2)}},e,null,[[3,5,6,7]])}));return function(n){return e.apply(this,arguments)}}(),L=function(){var e=(0,o.A)((0,i.A)().m(function e(){return(0,i.A)().w(function(e){while(1)switch(e.n){case 0:return e.n=1,w(v.value);case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),_=function(){var e=(0,o.A)((0,i.A)().m(function e(n){var a,t,r,l,u;return(0,i.A)().w(function(e){while(1)switch(e.p=e.n){case 0:if(t=n.target,null!==t&&void 0!==t&&t.files&&0!==t.files.length){e.n=1;break}return e.a(2);case 1:return r=t.files[0],p.value=null!==(a=null===r||void 0===r?void 0:r.name)&&void 0!==a?a:null,g.value=!0,d.value=null,e.p=2,e.n=3,r.text();case 3:return l=e.v,v.value=l,e.n=4,w(l);case 4:e.n=6;break;case 5:e.p=5,u=e.v,d.value=u instanceof Error?u.message:"Failed to read the selected file",console.error("File import error:",u);case 6:return e.p=6,g.value=!1,t.value="",e.f(6);case 7:return e.a(2)}},e,null,[[2,5,6,7]])}));return function(n){return e.apply(this,arguments)}}();return function(e,n){return(0,r.uX)(),(0,r.CE)("div",Ne,[(0,r.Lk)("div",Ue,[(0,r.Lk)("button",{class:"btn-back",onClick:n[0]||(n[0]=function(e){return c("navigate","main")})},"← Back to Home")]),(0,r.Lk)("div",We,[n[5]||(n[5]=(0,r.Lk)("h1",null,"Import Spendings",-1)),n[6]||(n[6]=(0,r.Lk)("p",null,"Upload a CSV file or paste its contents below to import your transactions.",-1)),(0,r.Lk)("form",{onSubmit:(0,t.D$)(L,["prevent"]),class:"import-form"},[(0,r.Lk)("label",Me,[n[2]||(n[2]=(0,r.Lk)("span",{class:"file-picker-label"},"Select CSV file",-1)),(0,r.Lk)("input",{type:"file",accept:".csv,text/csv",onChange:_,disabled:f.value||g.value},null,40,Oe)]),p.value?((0,r.uX)(),(0,r.CE)("div",Pe,[n[3]||(n[3]=(0,r.eW)(" Loaded: ",-1)),(0,r.Lk)("strong",null,(0,l.v_)(p.value),1),g.value?((0,r.uX)(),(0,r.CE)("span",Ve,"(reading…)")):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("textarea",{"onUpdate:modelValue":n[1]||(n[1]=function(e){return v.value=e}),placeholder:"Paste CSV content here...",rows:"10",class:"csv-textarea"},null,512),[[t.Jo,v.value]]),d.value?((0,r.uX)(),(0,r.CE)("div",ze,"❌ "+(0,l.v_)(d.value),1)):(0,r.Q3)("",!0),(0,r.Lk)("button",{type:"submit",class:"btn-upload",disabled:f.value||g.value},(0,l.v_)(f.value||g.value?"Importing…":"Import CSV"),9,je)],32),m.value.length>0?((0,r.uX)(),(0,r.CE)("div",Be,[(0,r.Lk)("h2",null,"Imported Transactions ("+(0,l.v_)(m.value.length)+")",1),(0,r.Lk)("div",Je,[(0,r.Lk)("table",He,[n[4]||(n[4]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"Tx ID"),(0,r.Lk)("th",null,"Date"),(0,r.Lk)("th",null,"Merchant"),(0,r.Lk)("th",{class:"right"},"Amount"),(0,r.Lk)("th",null,"Status")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(m.value,function(e){return(0,r.uX)(),(0,r.CE)("tr",{key:e.tx_id},[(0,r.Lk)("td",Ye,(0,l.v_)(e.tx_id),1),(0,r.Lk)("td",null,(0,l.v_)(e.date),1),(0,r.Lk)("td",null,(0,l.v_)(e.merchant_text),1),(0,r.Lk)("td",qe,(0,l.v_)(e.amount.toFixed(2)),1),(0,r.Lk)("td",null,[(0,r.Lk)("span",{class:(0,l.C4)(["status",e.status.toLowerCase()])},(0,l.v_)(e.status),3)])])}),128))])])])])):(0,r.Q3)("",!0)])])}}}),Ge=(0,D.A)($e,[["__scopeId","data-v-9b4663a2"]]),Ze=Ge;a(1629),a(739),a(7588),a(3110),a(3500);var en={class:"categories-page"},nn={class:"topbar"},an={class:"container"},tn={class:"header"},rn=["disabled"],ln={class:"add-card"},un={class:"add-row"},on=["disabled"],sn=["disabled"],cn={key:0,class:"error"},vn={class:"list-card"},dn={key:0,class:"error"},fn={key:1,class:"loading"},gn={key:2},pn={class:"debug-info"},kn={style:{color:"#999"}},mn={key:0,class:"empty"},bn={key:1,class:"category-list"},hn=["onClick"],yn=["onClick"],wn={class:"edit-status"},Ln={class:"name"},_n={class:"owner-id"},An=["onClick"],Cn=["onClick"],En={class:"list-card debug-card"},xn={key:0,class:"loading"},Xn={key:1,class:"empty"},In={key:2},Sn={style:{"margin-bottom":"1rem",padding:"0.5rem",background:"#f8f9fa","border-radius":"4px","font-size":"0.85em"}},Tn={style:{"margin-top":"0.5rem","overflow-x":"auto"}},Rn={class:"debug-table"},Kn={key:0,style:{color:"#28a745"}},Fn={key:1,style:{color:"#999"}};const Dn=(0,r.pM)({__name:"CategoriesPage",props:{user:{}},emits:["navigate","view-category"],setup:function(e,n){var a=n.emit,s=e,c=a,v=(0,u.KR)([]),d=(0,u.KR)(!1),f=(0,u.KR)(!1),g=(0,u.KR)(null),p=(0,u.KR)(null),k=(0,u.KR)(""),m=function(e){var n,a;return h(null!==(n=null!==(a=null===e||void 0===e?void 0:e.user_id)&&void 0!==a?a:null===e||void 0===e?void 0:e.id)&&void 0!==n?n:e)},b=(0,r.EW)(function(){return m(s.user)}),y=function(){var e=(0,o.A)((0,i.A)().m(function e(){var n,a,t;return(0,i.A)().w(function(e){while(1)switch(e.p=e.n){case 0:if(g.value=null,d.value=!0,e.p=1,n=b.value,n){e.n=2;break}return v.value=[],g.value="Sign in to load your categories.",e.a(2);case 2:return e.n=3,w.getCategoriesWithNames(n);case 3:a=e.v,v.value=a,e.n=5;break;case 4:e.p=4,t=e.v,g.value=t instanceof Error?t.message:"Failed to load categories",console.error("Categories fetch error:",t);case 5:return e.p=5,d.value=!1,e.f(5);case 6:return e.a(2)}},e,null,[[1,4,5,6]])}));return function(){return e.apply(this,arguments)}}(),L=function(){var e=(0,o.A)((0,i.A)().m(function e(){var n,a,t,r;return(0,i.A)().w(function(e){while(1)switch(e.p=e.n){case 0:if(p.value=null,null!==(n=s.user)&&void 0!==n&&n.user_id){e.n=1;break}return p.value="You must be signed in to add a category.",e.a(2);case 1:if(k.value.trim()){e.n=2;break}return p.value="Please enter a category name.",e.a(2);case 2:return f.value=!0,e.p=3,a=b.value||"",e.n=4,w.create({owner_id:a,name:k.value.trim()});case 4:return t=e.v,console.debug("Create category response:",t),k.value="",e.n=5,y();case 5:e.n=7;break;case 6:e.p=6,r=e.v,p.value=r instanceof Error?r.message:"Failed to add category",console.error("Add category error:",r);case 7:return e.p=7,f.value=!1,e.f(7);case 8:return e.a(2)}},e,null,[[3,6,7,8]])}));return function(){return e.apply(this,arguments)}}(),_=function(e){c("view-category",e)},A=(0,u.KR)(null),C=(0,u.KR)(""),E=(0,u.KR)({}),x=function(e,n){A.value=n,C.value=e.name||"",E.value[n]=""},X=function(e){A.value===e&&(A.value=null),C.value="",E.value[e]=""},I=function(){var e=(0,o.A)((0,i.A)().m(function e(n,a){var t,r,l,u,o,s,c;return(0,i.A)().w(function(e){while(1)switch(e.p=e.n){case 0:if(E.value[a]="",t=C.value.trim(),t){e.n=1;break}return E.value[a]="Please provide a name.",e.a(2);case 1:if(r=b.value||"",E.value[a]="Saving...",e.p=2,u=h(null!==(l=n.category_id)&&void 0!==l?l:n.categoryId),!u){e.n=4;break}return e.n=3,w.rename({owner_id:r,category_id:u,new_name:t});case 3:E.value[a]="Renamed.",e.n=6;break;case 4:return e.n=5,w.create({owner_id:r,name:t});case 5:E.value[a]="Created new category (rename not possible).";case 6:return e.n=7,y();case 7:o=v.value,s={},o.forEach(function(e){var n=e.name||"";s[n]=(s[n]||0)+1}),s[t]>1?(E.value[a]="Warning: duplicate category name exists after rename.",console.warn("Duplicate category names for owner",r,t,o)):E.value[a]="Saved.",A.value=null,C.value="",e.n=9;break;case 8:e.p=8,c=e.v,console.error("Rename/create error:",c),E.value[a]=c instanceof Error?c.message:"Failed to save";case 9:return e.a(2)}},e,null,[[2,8]])}));return function(n,a){return e.apply(this,arguments)}}();return(0,r.sV)(function(){y()}),function(n,a){var u;return(0,r.uX)(),(0,r.CE)("div",en,[(0,r.Lk)("div",nn,[(0,r.Lk)("button",{class:"btn-back",onClick:a[0]||(a[0]=function(e){return c("navigate","main")})},"← Back to Home")]),(0,r.Lk)("div",an,[(0,r.Lk)("div",tn,[a[3]||(a[3]=(0,r.Lk)("h1",null,"Categories",-1)),(0,r.Lk)("button",{class:"btn-refresh",onClick:y,disabled:d.value},(0,l.v_)(d.value?"Refreshing…":"🔄 Refresh"),9,rn)]),(0,r.Lk)("div",ln,[a[4]||(a[4]=(0,r.Lk)("h3",null,"Create New Category",-1)),(0,r.Lk)("div",un,[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":a[1]||(a[1]=function(e){return k.value=e}),type:"text",placeholder:"Category name",disabled:f.value},null,8,on),[[t.Jo,k.value]]),(0,r.Lk)("button",{class:"btn-primary",onClick:L,disabled:f.value},(0,l.v_)(f.value?"Adding…":"Add Category"),9,sn)]),p.value?((0,r.uX)(),(0,r.CE)("div",cn,"❌ "+(0,l.v_)(p.value),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",vn,[a[6]||(a[6]=(0,r.Lk)("h3",null,"Your Categories",-1)),g.value?((0,r.uX)(),(0,r.CE)("div",dn,"❌ "+(0,l.v_)(g.value),1)):d.value?((0,r.uX)(),(0,r.CE)("div",fn,"Loading…")):((0,r.uX)(),(0,r.CE)("div",gn,[(0,r.Lk)("div",pn,[(0,r.Lk)("small",kn," Categories loaded: "+(0,l.v_)(v.value.length)+" | Your user ID: "+(0,l.v_)(null===(u=e.user)||void 0===u?void 0:u.user_id),1)]),0===v.value.length?((0,r.uX)(),(0,r.CE)("div",mn," No categories yet. ")):((0,r.uX)(),(0,r.CE)("ul",bn,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(v.value,function(e,n){return(0,r.uX)(),(0,r.CE)("li",{key:(e.category_id||e.name)+":"+e.owner_id},[a[5]||(a[5]=(0,r.Lk)("span",{class:"dot"},null,-1)),A.value===n?((0,r.uX)(),(0,r.CE)(r.FK,{key:0},[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":a[2]||(a[2]=function(e){return C.value=e}),class:"edit-input"},null,512),[[t.Jo,C.value]]),(0,r.Lk)("button",{class:"btn-small",onClick:(0,t.D$)(function(a){return I(e,n)},["prevent"])},"Save",8,hn),(0,r.Lk)("button",{class:"btn-small muted",onClick:(0,t.D$)(function(e){return X(n)},["prevent"])},"Cancel",8,yn),(0,r.Lk)("div",wn,(0,l.v_)(E.value[n]),1)],64)):((0,r.uX)(),(0,r.CE)(r.FK,{key:1},[(0,r.Lk)("span",Ln,(0,l.v_)(e.name),1),(0,r.Lk)("span",_n,[(0,r.Lk)("code",null,(0,l.v_)(e.owner_id),1)]),(0,r.Lk)("button",{class:"btn-small",onClick:(0,t.D$)(function(n){return _(e)},["prevent"])},"View",8,An),(0,r.Lk)("button",{class:"btn-small",onClick:(0,t.D$)(function(a){return x(e,n)},["prevent"])},"Edit",8,Cn)],64))])}),128))]))]))]),(0,r.Lk)("div",En,[a[9]||(a[9]=(0,r.Lk)("h3",null,"🐛 All Categories (Debug)",-1)),d.value?((0,r.uX)(),(0,r.CE)("div",xn,"Loading…")):(0,r.Q3)("",!0),0===v.value.length?((0,r.uX)(),(0,r.CE)("div",Xn," No categories found for your account. ")):((0,r.uX)(),(0,r.CE)("div",In,[(0,r.Lk)("div",Sn,[a[7]||(a[7]=(0,r.Lk)("strong",null,"Raw JSON response:",-1)),(0,r.Lk)("pre",Tn,(0,l.v_)(JSON.stringify(v.value,null,2)),1)]),(0,r.Lk)("table",Rn,[a[8]||(a[8]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"Category ID"),(0,r.Lk)("th",null,"Name"),(0,r.Lk)("th",null,"Owner ID"),(0,r.Lk)("th",null,"Is Yours?")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(v.value,function(n,a){var t;return(0,r.uX)(),(0,r.CE)("tr",{key:a},[(0,r.Lk)("td",null,[(0,r.Lk)("code",null,(0,l.v_)(n.category_id||"(none)"),1)]),(0,r.Lk)("td",null,(0,l.v_)(n.name||"(empty)"),1),(0,r.Lk)("td",null,[(0,r.Lk)("code",null,(0,l.v_)(n.owner_id||"(empty)"),1)]),(0,r.Lk)("td",null,[n.owner_id===(null===(t=e.user)||void 0===t?void 0:t.user_id)?((0,r.uX)(),(0,r.CE)("span",Kn,"✓ Yes")):((0,r.uX)(),(0,r.CE)("span",Fn,"✗ No"))])])}),128))])])]))])])])}}}),Qn=(0,D.A)(Dn,[["__scopeId","data-v-71732408"]]),Nn=Qn;var Un=a(8676),Wn=a(8653),Mn=(a(113),a(5086),a(1688),a(3288),a(116),a(3579),a(2892),a(5428),a(150),{class:"category-detail"}),On={class:"container"},Pn={key:0,class:"empty-state"},Vn={key:1,class:"content"},zn={key:0,class:"notice notice-success"},jn={key:1,class:"notice notice-error"},Bn={key:2,class:"notice notice-success"},Jn={key:3,class:"notice notice-error"},Hn={key:4,class:"notice notice-error"},Yn={class:"header"},qn={class:"subtitle"},$n={class:"meta"},Gn={key:5,class:"metrics"},Zn={key:6,class:"metrics"},ea={key:7,class:"metrics error"},na={class:"history"},aa={class:"history-header"},ta={key:0},ra={key:0},la={key:0,class:"loading"},ua={key:1,class:"error"},ia={key:2},oa={key:0,class:"history-table"},sa={class:"actions-cell"},ca={key:0,class:"move-controls"},va=["for"],da=["id","disabled"],fa=["value"],ga={class:"move-buttons"},pa=["disabled"],ka=["disabled"],ma={key:0,class:"move-error"},ba={key:1,class:"actions-inline"},ha=["onClick","disabled","title"],ya=["onClick","disabled"],wa={key:1,class:"empty"},La={key:8,class:"debug"};const _a=(0,r.pM)({__name:"CategoryDetailPage",props:{user:{},category:{}},emits:["navigate"],setup:function(e,n){var a=n.emit,s=e,c=a,v=(0,u.Kh)({status:"idle"}),d=(0,u.KR)(""),f=(0,u.Kh)({status:"idle"}),g=(0,u.KR)([]),p=(0,u.KR)(!1),k=(0,u.KR)(null),m=(0,u.Kh)({txId:null,targetCategoryId:null,loading:!1,error:null,message:null}),b=(0,u.Kh)({loading:!1,error:null,message:null}),y=(0,r.EW)(function(){var e,n,a,t;return null!==(e=h(null!==(n=null===(a=s.category)||void 0===a?void 0:a.owner_id)&&void 0!==n?n:null===(t=s.user)||void 0===t?void 0:t.user_id))&&void 0!==e?e:null}),_=(0,r.EW)(function(){var e,n;return null!==(e=h(null===(n=s.category)||void 0===n?void 0:n.category_id))&&void 0!==e?e:null}),A=(0,r.EW)(function(){var e,n;return null!==(e=null===(n=s.category)||void 0===n?void 0:n.name)&&void 0!==e?e:"Unknown category"}),C=(0,r.EW)(function(){return g.value.filter(function(e){return e.category_id!==_.value})}),E=(0,r.EW)(function(){return C.value.length>0}),x=function(e){var n,a;return e?null!==(n=null===(a=g.value.find(function(n){return n.category_id===e}))||void 0===a?void 0:a.name)&&void 0!==n?n:e:""},X=function(){var e=new Date,n=new Date(e.getTime()-2592e6);return{startDate:n.toISOString(),endDate:e.toISOString()}},I=function(){var e=(0,o.A)((0,i.A)().m(function e(){var n,a,t;return(0,i.A)().w(function(e){while(1)switch(e.p=e.n){case 0:if(y.value){e.n=1;break}return g.value=[],k.value="Missing owner id.",p.value=!1,e.a(2);case 1:return p.value=!0,k.value=null,e.p=2,e.n=3,w.getCategoriesWithNames(y.value);case 3:n=e.v,g.value=n.map(function(e){var n,a;return(0,Wn.A)((0,Wn.A)({},e),{},{category_id:null!==(n=h(e.category_id))&&void 0!==n?n:e.category_id,owner_id:null!==(a=h(e.owner_id))&&void 0!==a?a:e.owner_id})}),e.n=5;break;case 4:e.p=4,t=e.v,k.value=null!==(a=null===t||void 0===t?void 0:t.message)&&void 0!==a?a:"Failed to load categories.",console.error("CategoryDetail: failed to fetch categories",t);case 5:return e.p=5,p.value=!1,e.f(5);case 6:return e.a(2)}},e,null,[[2,4,5,6]])}));return function(){return e.apply(this,arguments)}}(),S=function(){var e=(0,o.A)((0,i.A)().m(function e(){var n,a,t,r,l,u,o;return(0,i.A)().w(function(e){while(1)switch(e.p=e.n){case 0:if(y.value&&_.value){e.n=1;break}return v.status="error",v.error="Missing owner or category id.",d.value="Missing owner or category id.",e.a(2);case 1:return v.status="loading",d.value="Loading…",e.p=2,e.n=3,w.listTransactions({owner_id:y.value,category_id:_.value});case 3:n=e.v,a=n.map(function(e){var n;return(0,Wn.A)((0,Wn.A)({},e),{},{tx_id:null!==(n=h(e.tx_id))&&void 0!==n?n:e.tx_id})}),v.status="loaded",v.data=a,d.value=JSON.stringify(a,null,2),e.n=5;break;case 4:e.p=4,o=e.v,v.status="error",v.error=null!==(t=null===o||void 0===o?void 0:o.message)&&void 0!==t?t:"Failed to load history.";try{null!==o&&void 0!==o&&null!==(r=o.response)&&void 0!==r&&r.data?d.value=JSON.stringify(o.response.data,null,2):d.value=null!==(l=null===o||void 0===o?void 0:o.message)&&void 0!==l?l:"Unknown error"}catch(i){d.value=null!==(u=null===o||void 0===o?void 0:o.message)&&void 0!==u?u:"Unknown error"}case 5:return e.a(2)}},e,null,[[2,4]])}));return function(){return e.apply(this,arguments)}}(),T=function(){var e=(0,o.A)((0,i.A)().m(function e(){var n,a,t,r;return(0,i.A)().w(function(e){while(1)switch(e.p=e.n){case 0:if(y.value&&_.value){e.n=1;break}return f.status="error",f.error="Missing owner or category id.",e.a(2);case 1:return f.status="loading",e.p=2,n=X(),e.n=3,w.getMetricStats({owner_id:y.value,category_id:_.value,period:n});case 3:a=e.v,a?(f.status="loaded",f.data=a):(f.status="error",f.error="No metrics available."),e.n=5;break;case 4:e.p=4,r=e.v,f.status="error",f.error=null!==(t=null===r||void 0===r?void 0:r.message)&&void 0!==t?t:"Failed to load metrics.";case 5:return e.a(2)}},e,null,[[2,4]])}));return function(){return e.apply(this,arguments)}}(),R=function(e){var n,a,t;if(m.error=null,m.message=null,0===C.value.length)return m.error="You need another category to move this transaction.",m.txId=null,void(m.targetCategoryId=null);m.txId=e;var r=C.value.find(function(e){return e.category_id!==_.value});m.targetCategoryId=null!==(n=null!==(a=null===r||void 0===r?void 0:r.category_id)&&void 0!==a?a:null===(t=C.value[0])||void 0===t?void 0:t.category_id)&&void 0!==n?n:null},K=function(){m.txId=null,m.targetCategoryId=null,m.loading=!1,m.error=null},F=function(){var e=(0,o.A)((0,i.A)().m(function e(){var n,a,t,r,l,u,o,s,c,v,d,f,g,p,k,b;return(0,i.A)().w(function(e){while(1)switch(e.p=e.n){case 0:if(m.txId){e.n=1;break}return m.error="Select a transaction to move.",e.a(2);case 1:if(m.targetCategoryId){e.n=2;break}return m.error="Choose a destination category.",e.a(2);case 2:if(y.value&&_.value){e.n=3;break}return m.error="Missing owner or category context.",e.a(2);case 3:return m.loading=!0,m.error=null,m.message=null,n=m.txId,a=m.targetCategoryId,e.p=4,e.n=5,L.update({user_id:y.value,tx_id:n,new_category_id:a});case 5:return e.p=5,e.n=6,w.removeTransaction({owner_id:y.value,category_id:_.value,tx_id:n});case 6:e.n=8;break;case 7:throw e.p=7,p=e.v,console.warn("CategoryDetail: failed to remove transaction from current category",p),c=p instanceof Error?p.message:null!==(o=null===p||void 0===p||null===(s=p.response)||void 0===s||null===(s=s.data)||void 0===s?void 0:s.error)&&void 0!==o?o:"Failed to remove transaction from current category.",new Error(c);case 8:return v=null,e.p=9,e.n=10,L.getTxInfo({user_id:y.value,tx_id:n});case 10:v=e.v,e.n=12;break;case 11:e.p=11,k=e.v,console.warn("CategoryDetail: failed to fetch transaction info, falling back to defaults",k);case 12:return d="number"===typeof(null===(t=v)||void 0===t?void 0:t.amount)&&Number.isFinite(v.amount)?v.amount:Number(null!==(r=null===(l=v)||void 0===l?void 0:l.amount)&&void 0!==r?r:0)||0,f="string"===typeof(null===(u=v)||void 0===u?void 0:u.date)&&v.date.length>0?v.date:(new Date).toISOString(),e.n=13,w.addTransaction({owner_id:y.value,category_id:a,tx_id:n,amount:d,tx_date:f});case 13:return m.message="Moved transaction to ".concat(x(a),"."),K(),e.n=14,S();case 14:return e.n=15,T();case 15:return e.n=16,I();case 16:m.message&&setTimeout(function(){m.message=null},4e3),e.n=18;break;case 17:e.p=17,b=e.v,m.error=null!==(g=null===b||void 0===b?void 0:b.message)&&void 0!==g?g:"Failed to move transaction.",console.error("CategoryDetail: failed to move transaction",b);case 18:return e.p=18,m.loading=!1,e.f(18);case 19:return e.a(2)}},e,null,[[9,11],[5,7],[4,17,18,19]])}));return function(){return e.apply(this,arguments)}}(),D=function(){var e=(0,o.A)((0,i.A)().m(function e(n){var a,t,r;return(0,i.A)().w(function(e){while(1)switch(e.p=e.n){case 0:if(y.value&&_.value){e.n=1;break}return b.error="Missing owner or category context.",e.a(2);case 1:if(a=window.confirm("Are you sure you want to delete this transaction from the category?"),a){e.n=2;break}return e.a(2);case 2:return b.loading=!0,b.error=null,b.message=null,e.p=3,e.n=4,L.remove({user_id:y.value,tx_id:n});case 4:return e.n=5,w.moveTransactionToTrash({owner_id:y.value,from_category_id:_.value,tx_id:n});case 5:return b.message="Transaction moved to Trash.",m.txId===n&&K(),e.n=6,S();case 6:return e.n=7,T();case 7:setTimeout(function(){b.message=null},4e3),e.n=9;break;case 8:e.p=8,r=e.v,b.error=null!==(t=null===r||void 0===r?void 0:r.message)&&void 0!==t?t:"Failed to delete transaction.",console.error("CategoryDetail: failed to delete transaction",r);case 9:return e.p=9,b.loading=!1,e.f(9);case 10:return e.a(2)}},e,null,[[3,8,9,10]])}));return function(n){return e.apply(this,arguments)}}(),Q=function(e){var n=new Date(e);return Number.isNaN(n.getTime())?e:n.toLocaleDateString()},N=function(e){return new Intl.NumberFormat(void 0,{style:"currency",currency:"USD"}).format(null!==e&&void 0!==e?e:0)};(0,r.sV)((0,o.A)((0,i.A)().m(function e(){return(0,i.A)().w(function(e){while(1)switch(e.n){case 0:if(s.category){e.n=1;break}return e.a(2);case 1:return e.n=2,I();case 2:return e.n=3,S();case 3:return e.n=4,T();case 4:return e.a(2)}},e)}))),(0,r.wB)(function(){return y.value},function(e,n){e&&e!==n&&I()}),(0,r.wB)(function(){return[y.value,_.value]},function(e,n){var a=(0,Un.A)(e,2),t=a[0],r=a[1],l=(0,Un.A)(n,2),u=l[0],i=l[1];t&&r&&(t===u&&r===i||(S(),T()))}),(0,r.wB)(C,function(e){if(null!=m.txId){if(0===e.length)return m.txId=null,m.targetCategoryId=null,void(m.error="You need another category to move this transaction.");var n,a;if(!e.some(function(e){return e.category_id===m.targetCategoryId}))m.targetCategoryId=null!==(n=null===(a=e[0])||void 0===a?void 0:a.category_id)&&void 0!==n?n:null}});var U=function(){c("navigate","categories")};return function(e,n){return(0,r.uX)(),(0,r.CE)("div",Mn,[(0,r.Lk)("div",{class:"topbar"},[(0,r.Lk)("button",{class:"btn-back",type:"button",onClick:U},"← Back to Categories")]),(0,r.Lk)("div",On,[_.value?((0,r.uX)(),(0,r.CE)("div",Vn,[m.message?((0,r.uX)(),(0,r.CE)("div",zn,(0,l.v_)(m.message),1)):(0,r.Q3)("",!0),m.error&&!m.txId?((0,r.uX)(),(0,r.CE)("div",jn,(0,l.v_)(m.error),1)):(0,r.Q3)("",!0),b.message?((0,r.uX)(),(0,r.CE)("div",Bn,(0,l.v_)(b.message),1)):(0,r.Q3)("",!0),b.error?((0,r.uX)(),(0,r.CE)("div",Jn,(0,l.v_)(b.error),1)):(0,r.Q3)("",!0),k.value?((0,r.uX)(),(0,r.CE)("div",Hn,(0,l.v_)(k.value),1)):(0,r.Q3)("",!0),(0,r.Lk)("header",Yn,[(0,r.Lk)("div",null,[(0,r.Lk)("h1",null,(0,l.v_)(A.value),1),(0,r.Lk)("p",qn,[n[3]||(n[3]=(0,r.eW)("Category ID: ",-1)),(0,r.Lk)("code",null,(0,l.v_)(_.value),1)])]),(0,r.Lk)("div",$n,[n[4]||(n[4]=(0,r.Lk)("span",null,"Owner",-1)),(0,r.Lk)("code",null,(0,l.v_)(y.value),1)])]),"loaded"===f.status?((0,r.uX)(),(0,r.CE)("section",Gn,[n[9]||(n[9]=(0,r.Lk)("h3",null,"Last 30 Days",-1)),(0,r.Lk)("ul",null,[(0,r.Lk)("li",null,[n[5]||(n[5]=(0,r.Lk)("strong",null,"Total amount:",-1)),(0,r.eW)(" "+(0,l.v_)(N(f.data.total_amount)),1)]),(0,r.Lk)("li",null,[n[6]||(n[6]=(0,r.Lk)("strong",null,"Transactions:",-1)),(0,r.eW)(" "+(0,l.v_)(f.data.transaction_count),1)]),(0,r.Lk)("li",null,[n[7]||(n[7]=(0,r.Lk)("strong",null,"Average per day:",-1)),(0,r.eW)(" "+(0,l.v_)(N(f.data.average_per_day)),1)]),(0,r.Lk)("li",null,[n[8]||(n[8]=(0,r.Lk)("strong",null,"Days covered:",-1)),(0,r.eW)(" "+(0,l.v_)(f.data.days),1)])])])):"loading"===f.status?((0,r.uX)(),(0,r.CE)("section",Zn,(0,ne.A)(n[10]||(n[10]=[(0,r.Lk)("h3",null,"Loading metrics…",-1)])))):"error"===f.status?((0,r.uX)(),(0,r.CE)("section",ea,[n[11]||(n[11]=(0,r.Lk)("h3",null,"Metrics unavailable",-1)),(0,r.Lk)("p",null,(0,l.v_)(f.error),1)])):(0,r.Q3)("",!0),(0,r.Lk)("section",na,[(0,r.Lk)("div",aa,[n[12]||(n[12]=(0,r.Lk)("h3",null,"Transaction history",-1)),"loaded"===v.status?((0,r.uX)(),(0,r.CE)("span",ta,[(0,r.eW)((0,l.v_)(v.data.length)+" transaction",1),1!==v.data.length?((0,r.uX)(),(0,r.CE)("span",ra,"s")):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0)]),"loading"===v.status?((0,r.uX)(),(0,r.CE)("div",la," Loading transactions… ")):"error"===v.status?((0,r.uX)(),(0,r.CE)("div",ua,(0,l.v_)(v.error),1)):"loaded"===v.status?((0,r.uX)(),(0,r.CE)("div",ia,[v.data.length?((0,r.uX)(),(0,r.CE)("table",oa,[n[13]||(n[13]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"Date"),(0,r.Lk)("th",null,"Amount"),(0,r.Lk)("th",null,"Transaction ID"),(0,r.Lk)("th",null,"Actions")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(v.data,function(e){return(0,r.uX)(),(0,r.CE)("tr",{key:e.tx_id},[(0,r.Lk)("td",null,(0,l.v_)(Q(e.tx_date)),1),(0,r.Lk)("td",null,(0,l.v_)(N(e.amount)),1),(0,r.Lk)("td",null,(0,l.v_)(e.tx_id),1),(0,r.Lk)("td",sa,[m.txId===e.tx_id?((0,r.uX)(),(0,r.CE)("div",ca,[(0,r.Lk)("label",{class:"sr-only",for:"move-select-".concat(e.tx_id)},"Select destination category",8,va),(0,r.bo)((0,r.Lk)("select",{id:"move-select-".concat(e.tx_id),"onUpdate:modelValue":n[0]||(n[0]=function(e){return m.targetCategoryId=e}),disabled:m.loading},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(C.value,function(e){return(0,r.uX)(),(0,r.CE)("option",{key:e.category_id,value:e.category_id},(0,l.v_)(e.name),9,fa)}),128))],8,da),[[t.u1,m.targetCategoryId]]),(0,r.Lk)("div",ga,[(0,r.Lk)("button",{type:"button",class:"btn-confirm",onClick:F,disabled:m.loading||!m.targetCategoryId}," Move ",8,pa),(0,r.Lk)("button",{type:"button",class:"btn-cancel",onClick:K,disabled:m.loading}," Cancel ",8,ka)]),m.error?((0,r.uX)(),(0,r.CE)("p",ma,(0,l.v_)(m.error),1)):(0,r.Q3)("",!0)])):((0,r.uX)(),(0,r.CE)("div",ba,[(0,r.Lk)("button",{type:"button",class:"btn-move",onClick:function(n){return R(e.tx_id)},disabled:!E.value||m.loading||p.value||b.loading,title:E.value?"Move this transaction to another category.":"Create another category to enable moving."}," Move ",8,ha),(0,r.Lk)("button",{type:"button",class:"btn-delete",onClick:function(n){return D(e.tx_id)},disabled:b.loading||m.loading}," Delete ",8,ya)]))])])}),128))])])):((0,r.uX)(),(0,r.CE)("p",wa,"No transactions recorded for this category yet."))])):(0,r.Q3)("",!0)]),d.value?((0,r.uX)(),(0,r.CE)("section",La,[n[14]||(n[14]=(0,r.Lk)("h3",null,"Raw listTransactions response",-1)),(0,r.Lk)("pre",null,(0,l.v_)(d.value),1)])):(0,r.Q3)("",!0)])):((0,r.uX)(),(0,r.CE)("div",Pn,[n[1]||(n[1]=(0,r.Lk)("h2",null,"No category selected",-1)),n[2]||(n[2]=(0,r.Lk)("p",null,"Select a category from the list to see its details.",-1)),(0,r.Lk)("button",{class:"btn-primary",type:"button",onClick:U},"Return to Categories")]))])])}}}),Aa=(0,D.A)(_a,[["__scopeId","data-v-1a06d274"]]),Ca=Aa;a(4782),a(1415),a(7642),a(8004),a(3853),a(5876),a(2475),a(5024),a(1698);var Ea={class:"unlabeled-tx-page"},xa={class:"topbar"},Xa={class:"container"},Ia={class:"header"},Sa=["disabled"],Ta={key:0,class:"error-message"},Ra={key:1,class:"loading-message"},Ka={key:2,class:"error-message"},Fa={key:3,class:"empty-message"},Da={key:4,class:"results"},Qa={class:"table-wrapper"},Na={class:"tx-table"},Ua={class:"right"},Wa=["onClick"],Ma={class:"debug-panel"},Oa={key:0,class:"debug-content"},Pa={class:"table-wrapper"},Va={class:"tx-table debug-table"},za={class:"mono"},ja={class:"mono"},Ba={class:"right"};const Ja=(0,r.pM)({__name:"UnlabeledTransactionsPage",props:{user:{}},emits:["navigate","start-labeling"],setup:function(e,n){var a=n.emit,t=e,s=a,c=(0,u.KR)([]),v=(0,u.KR)(!1),d=(0,u.KR)(null),f=(0,u.KR)(!1),g=(0,u.KR)(!1),p=function(e){var n,a;return h(null!==(n=null!==(a=null===e||void 0===e?void 0:e.user_id)&&void 0!==a?a:null===e||void 0===e?void 0:e.id)&&void 0!==n?n:e)},m=(0,r.EW)(function(){return p(t.user)}),b=function(e){var n;return null!==(n=h(e))&&void 0!==n?n:""},y=(0,r.EW)(function(){var e=m.value;return e?c.value.filter(function(n){return b(n.owner_id)===e}):[]}),w=function(){var e=(0,o.A)((0,i.A)().m(function e(){var n,a,t,r,l,u;return(0,i.A)().w(function(e){while(1)switch(e.p=e.n){case 0:if(n=m.value,n){e.n=1;break}return d.value="User not signed in.",e.a(2);case 1:return v.value=!0,d.value=null,e.p=2,e.n=3,k.getUnlabeledTransactions({owner_id:n});case 3:a=e.v,t=Array.isArray(a)?a:[],r=(0,ne.A)(new Set(t.map(function(e){return null===e||void 0===e?void 0:e.owner_id}))).slice(0,5),c.value=t.map(function(e){return(0,Wn.A)((0,Wn.A)({},e),{},{owner_id:b(null===e||void 0===e?void 0:e.owner_id)})}),l=(0,ne.A)(new Set(c.value.map(function(e){return e.owner_id}))).slice(0,5),console.debug("Unlabeled fetch:",{requested_owner_id:n,total:c.value.length,owners_sample_normalized:l,owners_sample_raw:r}),e.n=5;break;case 4:e.p=4,u=e.v,d.value=u instanceof Error?u.message:"Failed to load unlabeled transactions.",console.error("Fetch unlabeled transactions error:",u);case 5:return e.p=5,v.value=!1,e.f(5);case 6:d.value||0!==c.value.length||f.value||(f.value=!0,setTimeout(function(){w()},800));case 7:return e.a(2)}},e,null,[[2,4,5,6]])}));return function(){return e.apply(this,arguments)}}(),L=function(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)};return(0,r.sV)(w),function(e,n){return(0,r.uX)(),(0,r.CE)("div",Ea,[(0,r.Lk)("div",xa,[(0,r.Lk)("button",{class:"btn-back",onClick:n[0]||(n[0]=function(e){return s("navigate","main")})},"← Back to Home")]),(0,r.Lk)("div",Xa,[(0,r.Lk)("div",Ia,[n[3]||(n[3]=(0,r.Lk)("h1",null,"Unlabeled Transactions",-1)),(0,r.Lk)("button",{class:"btn-refresh",onClick:w,disabled:v.value},(0,l.v_)(v.value?"Refreshing…":"🔄 Refresh"),9,Sa)]),d.value?((0,r.uX)(),(0,r.CE)("div",Ta,"❌ "+(0,l.v_)(d.value),1)):v.value?((0,r.uX)(),(0,r.CE)("div",Ra,"Loading transactions…")):c.value.length>0&&0===y.value.length?((0,r.uX)(),(0,r.CE)("div",Ka," We fetched "+(0,l.v_)(c.value.length)+" item(s), but none belong to the current user. This usually means the backend returned transactions with a different owner_id. ",1)):0===y.value.length?((0,r.uX)(),(0,r.CE)("div",Fa," 🎉 All transactions are labeled! ")):((0,r.uX)(),(0,r.CE)("div",Da,[(0,r.Lk)("p",null,"You have "+(0,l.v_)(y.value.length)+" transaction(s) to label.",1),y.value.length>0?((0,r.uX)(),(0,r.CE)("button",{key:0,class:"btn-start-labeling",onClick:n[1]||(n[1]=function(e){return s("start-labeling",y.value[0])})}," Start Labeling Session ")):(0,r.Q3)("",!0),(0,r.Lk)("div",Qa,[(0,r.Lk)("table",Na,[n[4]||(n[4]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"Date"),(0,r.Lk)("th",null,"Merchant"),(0,r.Lk)("th",{class:"right"},"Amount"),(0,r.Lk)("th",null,"Status"),(0,r.Lk)("th",null,"Actions")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(y.value,function(e){return(0,r.uX)(),(0,r.CE)("tr",{key:e.tx_id},[(0,r.Lk)("td",null,(0,l.v_)(e.date),1),(0,r.Lk)("td",null,(0,l.v_)(e.merchant_text),1),(0,r.Lk)("td",Ua,(0,l.v_)(L(e.amount)),1),(0,r.Lk)("td",null,[(0,r.Lk)("span",{class:(0,l.C4)(["status",e.status.toLowerCase()])},(0,l.v_)(e.status),3)]),(0,r.Lk)("td",null,[(0,r.Lk)("button",{class:"btn-small",onClick:function(n){return s("start-labeling",e)}},"Label",8,Wa)])])}),128))])])])])),(0,r.Lk)("div",Ma,[(0,r.Lk)("button",{class:"btn-debug",type:"button",onClick:n[2]||(n[2]=function(e){return g.value=!g.value})},(0,l.v_)(g.value?"Hide":"Show")+" Debug (Raw API Results) ",1),g.value?((0,r.uX)(),(0,r.CE)("div",Oa,[(0,r.Lk)("p",null,"Total returned by API (no client filtering): "+(0,l.v_)(c.value.length),1),(0,r.Lk)("div",Pa,[(0,r.Lk)("table",Va,[n[5]||(n[5]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"Tx ID"),(0,r.Lk)("th",null,"Owner ID"),(0,r.Lk)("th",null,"Date"),(0,r.Lk)("th",null,"Merchant"),(0,r.Lk)("th",{class:"right"},"Amount"),(0,r.Lk)("th",null,"Status")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(c.value,function(e){return(0,r.uX)(),(0,r.CE)("tr",{key:e.tx_id},[(0,r.Lk)("td",za,(0,l.v_)(e.tx_id),1),(0,r.Lk)("td",ja,(0,l.v_)(e.owner_id),1),(0,r.Lk)("td",null,(0,l.v_)(e.date),1),(0,r.Lk)("td",null,(0,l.v_)(e.merchant_text),1),(0,r.Lk)("td",Ba,(0,l.v_)(L(e.amount)),1),(0,r.Lk)("td",null,[(0,r.Lk)("span",{class:(0,l.C4)(["status",e.status.toLowerCase()])},(0,l.v_)(e.status),3)])])}),128))])])])])):(0,r.Q3)("",!0)])])])}}}),Ha=(0,D.A)(Ja,[["__scopeId","data-v-3e661455"]]),Ya=Ha;a(8980),a(3418),a(6033),a(6167);var qa={class:"labeling-page"},$a={key:0,class:"container"},Ga={class:"transaction-card"},Za={class:"info-row"},et={class:"value merchant"},nt={class:"info-row"},at={class:"value"},tt={class:"info-row"},rt={class:"value amount"},lt={class:"info-row"},ut={class:"value mono"},it={key:0,class:"session-bar"},ot={class:"session-actions"},st=["disabled"],ct={class:"actions"},vt=["disabled"],dt={key:1,class:"loading-message"},ft={key:2,class:"error-message"},gt={key:3,class:"error-message"},pt={key:4,class:"success-message"},kt={key:5,class:"loading-message"},mt={key:6,class:"error-message"},bt={key:7,class:"category-list"},ht=["onClick","disabled"],yt={key:8,class:"no-data"},wt={class:"finalize"},Lt=["disabled"],_t={key:0,class:"error-message"},At={key:1,class:"success-message"},Ct={key:9,class:"debug-box"},Et={key:1,class:"container"};const xt=(0,r.pM)({__name:"LabelingPage",props:{transaction:{},user:{}},emits:["navigate"],setup:function(e,n){var a=n.emit,t=e,s=a,c=(0,u.KR)([]),v=(0,u.KR)(!1),d=(0,u.KR)(null),f=(0,u.KR)(!1),g=(0,u.KR)(null),p=(0,u.KR)(null),b=(0,u.KR)(!1),y=(0,u.KR)(null),_=(0,u.KR)(null),A=(0,u.KR)(null),C=(0,u.KR)(null),E=(0,u.KR)(!1),x=(0,u.KR)(null),X=(0,r.EW)(function(){return x.value?JSON.stringify(x.value,null,2):""}),I=(0,u.KR)(!1),S=(0,u.KR)([]),T=(0,u.KR)(0),R=(0,u.KR)(new Set),K=(0,u.KR)(null),F=(0,r.EW)(function(){var e;return null!==(e=K.value)&&void 0!==e?e:t.transaction}),D=function(e){var n,a;return h(null!==(n=null!==(a=null===e||void 0===e?void 0:e.user_id)&&void 0!==a?a:null===e||void 0===e?void 0:e.id)&&void 0!==n?n:e)},Q=(0,r.EW)(function(){return D(t.user)}),N=function(e){return h(e)},U=function(e){if(null==e)return null;if("string"===typeof e||"number"===typeof e||"bigint"===typeof e)return String(e);if("object"===(0,m.A)(e)){var n,a,t,r,l=e;return null!==(n=null!==(a=null!==(t=null!==(r=N(l.tx_id))&&void 0!==r?r:N(l._id))&&void 0!==t?t:N(l.id))&&void 0!==a?a:N(l.transaction_id))&&void 0!==n?n:null}return null},W=(0,r.EW)(function(){var e=Q.value;return e?c.value.filter(function(n){return(n.owner_id||"")===e}):[]}),M=function(){var e=(0,o.A)((0,i.A)().m(function e(){var n,a,t;return(0,i.A)().w(function(e){while(1)switch(e.p=e.n){case 0:if(n=Q.value,n){e.n=1;break}return d.value="User not available for fetching categories.",e.a(2);case 1:return v.value=!0,d.value=null,e.p=2,e.n=3,w.getCategoriesWithNames(n);case 3:a=e.v,c.value=a,e.n=5;break;case 4:e.p=4,t=e.v,d.value=t instanceof Error?t.message:"Failed to load categories.",console.error("Fetch categories error:",t);case 5:return e.p=5,v.value=!1,e.f(5);case 6:return e.a(2)}},e,null,[[2,4,5,6]])}));return function(){return e.apply(this,arguments)}}(),O=function(){var e=(0,o.A)((0,i.A)().m(function e(){var n,a,t,r,l,u,o,s,c,v,d,f;return(0,i.A)().w(function(e){while(1)switch(e.p=e.n){case 0:if(n=F.value,a=Q.value,a&&n){e.n=1;break}return e.a(2);case 1:if(A.value=null,C.value=null,e.p=2,o=null!==(t=null!==(r=n.tx_name)&&void 0!==r?r:n.merchant_text)&&void 0!==t?t:"Transaction ".concat(n.tx_id),s=null!==(l=null!==(u=n.tx_merchant)&&void 0!==u?u:n.merchant_text)&&void 0!==l?l:"Unknown merchant",c=W.value.filter(function(e){return!!e.category_id&&!!e.name}).map(function(e){return[e.name,e.category_id]}),0!==c.length){e.n=3;break}return C.value="No categories available to suggest.",e.a(2);case 3:return E.value=!0,v={user_id:a,allCategories:c,txInfo:{tx_id:n.tx_id,tx_name:o,tx_merchant:s}},console.debug("Calling /api/Label/suggest with payload:",v),e.n=4,L.suggest(v);case 4:d=e.v,console.debug("Suggest response:",d),A.value=d.id,e.n=6;break;case 5:e.p=5,f=e.v,C.value=f instanceof Error?f.message:"Failed to get suggestion.",console.error("Fetch suggestion error:",f);case 6:return e.p=6,E.value=!1,e.f(6);case 7:return e.a(2)}},e,null,[[2,5,6,7]])}));return function(){return e.apply(this,arguments)}}(),P=function(){var e=(0,o.A)((0,i.A)().m(function e(n){var a,t,r,l,u,o,s,c,v,d;return(0,i.A)().w(function(e){while(1)switch(e.p=e.n){case 0:if(a=F.value,t=Q.value,!f.value){e.n=1;break}return e.a(2);case 1:if(t&&a){e.n=2;break}return g.value="Missing user or transaction for staging.",e.a(2);case 2:if(n.category_id){e.n=3;break}return g.value="Selected category is missing an identifier.",e.a(2);case 3:if(f.value=!0,g.value=null,p.value=null,r=U(a),r){e.n=4;break}return g.value="Transaction is missing a valid identifier.",e.a(2);case 4:return e.p=4,c=null!==(l=null!==(u=a.tx_name)&&void 0!==u?u:a.merchant_text)&&void 0!==l?l:"Transaction ".concat(r),v=null!==(o=null!==(s=a.tx_merchant)&&void 0!==s?s:a.merchant_text)&&void 0!==o?o:"Unknown merchant",e.n=5,L.stage({user_id:t,tx_id:r,tx_name:c,tx_merchant:v,category_id:n.category_id});case 5:e.v,p.value='Staged category "'.concat(n.name,'". Click "Finalize Session" to complete.'),I.value=!0,R.value.add(r),H(),e.n=7;break;case 6:e.p=6,d=e.v,g.value=d instanceof Error?d.message:"Failed to stage transaction.",console.error("Stage transaction error:",d);case 7:return e.p=7,f.value=!1,e.f(7);case 8:return e.a(2)}},e,null,[[4,6,7,8]])}));return function(n){return e.apply(this,arguments)}}(),V=function(){var e=(0,o.A)((0,i.A)().m(function e(){var n,a,t,r,l,u,c,v,d,f,g,p,m,h,A;return(0,i.A)().w(function(e){while(1)switch(e.p=e.n){case 0:if(n=F.value,a=Q.value,!b.value){e.n=1;break}return e.a(2);case 1:if(a){e.n=2;break}return y.value="User not available to finalize.",e.a(2);case 2:if(n){e.n=3;break}return y.value="No transaction to finalize.",e.a(2);case 3:return b.value=!0,y.value=null,_.value=null,e.p=4,t=[],r=[],e.p=5,e.n=6,L.getStagedLabels({user_id:a});case 6:l=e.v,u=Array.isArray(l)?l:[],t=u.map(function(e){if(!e)return null;var n=N(e.tx_id),a=N(e.category_id);return n&&a?{txId:n,categoryId:a}:null}).filter(function(e){return null!==e}),r=t.map(function(e){return e.txId}),e.n=8;break;case 7:e.p=7,m=e.v,console.error("Failed to fetch staged labels before finalize",m);case 8:0===r.length&&R.value.size>0&&(r=Array.from(R.value)),c=Array.from(new Set(r)),v=0,d=c;case 9:if(!(v<d.length)){e.n=14;break}return f=d[v],e.p=10,e.n=11,k.markLabeled({tx_id:f,requester_id:a});case 11:e.n=13;break;case 12:e.p=12,h=e.v,console.warn("Failed to mark labeled for tx",f,h);case 13:v++,e.n=9;break;case 14:return e.n=15,L.finalize({user_id:a});case 15:if(!(t.length>0)){e.n=16;break}if(g=new Map,t.forEach(function(e){var n=e.txId,a=e.categoryId;g.has(n)||g.set(n,a)}),p=Array.from(g.entries()).map(function(){var e=(0,o.A)((0,i.A)().m(function e(n){var t,r,l,u,o,s,c,v;return(0,i.A)().w(function(e){while(1)switch(e.p=e.n){case 0:return t=(0,Un.A)(n,2),r=t[0],l=t[1],e.p=1,e.n=2,L.getTxInfo({user_id:a,tx_id:r});case 2:return o=e.v,s="number"===typeof(null===o||void 0===o?void 0:o.amount)&&Number.isFinite(o.amount)?o.amount:Number(null!==(u=null===o||void 0===o?void 0:o.amount)&&void 0!==u?u:0)||0,c="string"===typeof(null===o||void 0===o?void 0:o.date)&&o.date.length>0?o.date:(new Date).toISOString(),e.n=3,w.addTransaction({owner_id:a,category_id:l,tx_id:r,amount:s,tx_date:c});case 3:e.n=5;break;case 4:e.p=4,v=e.v,console.warn("Failed to add transaction to category metrics",{txId:r,categoryId:l},v);case 5:return e.a(2)}},e,null,[[1,4]])}));return function(n){return e.apply(this,arguments)}}()),!(p.length>0)){e.n=16;break}return e.n=16,Promise.allSettled(p);case 16:R.value.clear(),_.value=c.length>0?"Finalized ".concat(c.length," labeled transaction(s)."):"No transactions were staged; nothing to finalize.",setTimeout(function(){s("navigate","unlabeled")},1e3),e.n=18;break;case 17:e.p=17,A=e.v,y.value=A instanceof Error?A.message:"Failed to finalize labeling.",console.error("Finalize labeling error:",A);case 18:return e.p=18,b.value=!1,e.f(18);case 19:return e.a(2)}},e,null,[[10,12],[5,7],[4,17,18,19]])}));return function(){return e.apply(this,arguments)}}(),z=function(){var e=(0,o.A)((0,i.A)().m(function e(){var n,a,t,r,l,u,o,s,c,v,d;return(0,i.A)().w(function(e){while(1)switch(e.p=e.n){case 0:if(n=F.value,a=Q.value,!f.value&&!b.value){e.n=1;break}return e.a(2);case 1:if(a&&n){e.n=2;break}return g.value="Missing user or transaction for discard.",e.a(2);case 2:if(f.value=!0,g.value=null,p.value=null,t=U(n),t){e.n=3;break}return g.value="Transaction is missing a valid identifier.",e.a(2);case 3:return e.p=3,s=null!==(r=null!==(l=n.tx_name)&&void 0!==l?l:n.merchant_text)&&void 0!==r?r:"Transaction ".concat(t),c=null!==(u=null!==(o=n.tx_merchant)&&void 0!==o?o:n.merchant_text)&&void 0!==u?u:"Unknown merchant",v={user_id:a,tx_id:t,tx_name:s,tx_merchant:c},x.value=v,e.n=4,L.discard(v);case 4:p.value="Transaction staged for Trash.",I.value=!0,R.value.add(t),H(),e.n=6;break;case 5:e.p=5,d=e.v,g.value=d instanceof Error?d.message:"Failed to discard transaction.",console.error("Discard transaction error:",d);case 6:return e.p=6,f.value=!1,e.f(6);case 7:return e.a(2)}},e,null,[[3,5,6,7]])}));return function(){return e.apply(this,arguments)}}(),j=function(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)},B=function(e){var n;return null!==(n=h(e))&&void 0!==n?n:""},J=function(){var e=(0,o.A)((0,i.A)().m(function e(){var n,a,t,r;return(0,i.A)().w(function(e){while(1)switch(e.p=e.n){case 0:if(n=Q.value,n){e.n=1;break}return e.a(2);case 1:return e.p=1,e.n=2,k.getUnlabeledTransactions({owner_id:n});case 2:a=e.v,t=Array.isArray(a)?a:[],S.value=t.map(function(e){var n=U(e);return n?(0,Wn.A)((0,Wn.A)({},e),{},{tx_id:n,owner_id:B(null===e||void 0===e?void 0:e.owner_id)}):null}).filter(function(e){return!!e&&e.owner_id===n}),e.n=4;break;case 3:e.p=3,r=e.v,console.error("Failed to fetch session transactions",r);case 4:return e.a(2)}},e,null,[[1,3]])}));return function(){return e.apply(this,arguments)}}();(0,r.sV)((0,o.A)((0,i.A)().m(function e(){var n,a,r,l,u;return(0,i.A)().w(function(e){while(1)switch(e.n){case 0:return e.n=1,M();case 1:return e.n=2,J();case 2:return l=null===(n=t.transaction)||void 0===n?void 0:n.tx_id,l?(u=S.value.findIndex(function(e){return e.tx_id===l}),T.value=u>=0?u:0):T.value=0,K.value=null!==(a=null!==(r=S.value[T.value])&&void 0!==r?r:t.transaction)&&void 0!==a?a:null,e.n=3,O();case 3:return e.a(2)}},e)}))),(0,r.wB)(function(){var e;return null===(e=F.value)||void 0===e?void 0:e.tx_id},function(){p.value=null,g.value=null,_.value=null,y.value=null,A.value=null,C.value=null,I.value=!1,O()});var H=function(){T.value<S.value.length-1&&(T.value+=1,K.value=S.value[T.value]||null)};return function(e,n){return(0,r.uX)(),(0,r.CE)("div",qa,[F.value?((0,r.uX)(),(0,r.CE)("div",$a,[n[6]||(n[6]=(0,r.Lk)("div",{class:"header"},[(0,r.Lk)("h1",null,"Label Transaction"),(0,r.Lk)("p",null,"Categorize the spending below.")],-1)),(0,r.Lk)("div",Ga,[(0,r.Lk)("div",Za,[n[0]||(n[0]=(0,r.Lk)("span",{class:"label"},"Merchant:",-1)),(0,r.Lk)("span",et,(0,l.v_)(F.value.merchant_text),1)]),(0,r.Lk)("div",nt,[n[1]||(n[1]=(0,r.Lk)("span",{class:"label"},"Date:",-1)),(0,r.Lk)("span",at,(0,l.v_)(F.value.date),1)]),(0,r.Lk)("div",tt,[n[2]||(n[2]=(0,r.Lk)("span",{class:"label"},"Amount:",-1)),(0,r.Lk)("span",rt,(0,l.v_)(j(F.value.amount)),1)]),(0,r.Lk)("div",lt,[n[3]||(n[3]=(0,r.Lk)("span",{class:"label"},"Transaction ID:",-1)),(0,r.Lk)("span",ut,(0,l.v_)(F.value.tx_id),1)])]),S.value.length?((0,r.uX)(),(0,r.CE)("div",it,[(0,r.Lk)("div",null," Session: "+(0,l.v_)(T.value+1)+" / "+(0,l.v_)(S.value.length),1),(0,r.Lk)("div",ot,[(0,r.Lk)("button",{type:"button",class:"btn-next",onClick:H,disabled:f.value||b.value},"Next",8,st)])])):(0,r.Q3)("",!0),(0,r.Lk)("div",ct,[n[5]||(n[5]=(0,r.Lk)("h2",null,"Select a Category",-1)),!v.value&&!d.value&&F.value&&Q.value?((0,r.uX)(),(0,r.CE)("button",{key:0,class:"btn-discard",type:"button",onClick:z,disabled:f.value||b.value}," 🗑️ Send to Trash ",8,vt)):(0,r.Q3)("",!0),v.value?((0,r.uX)(),(0,r.CE)("div",dt,"Loading categories...")):(0,r.Q3)("",!0),d.value?((0,r.uX)(),(0,r.CE)("div",ft,(0,l.v_)(d.value),1)):(0,r.Q3)("",!0),g.value?((0,r.uX)(),(0,r.CE)("div",gt,(0,l.v_)(g.value),1)):(0,r.Q3)("",!0),p.value?((0,r.uX)(),(0,r.CE)("div",pt,(0,l.v_)(p.value),1)):(0,r.Q3)("",!0),E.value?((0,r.uX)(),(0,r.CE)("div",kt,"Getting suggestion…")):(0,r.Q3)("",!0),C.value?((0,r.uX)(),(0,r.CE)("div",mt,"⚠️ Suggestion failed: "+(0,l.v_)(C.value),1)):(0,r.Q3)("",!0),!E.value&&W.value.length>0?((0,r.uX)(),(0,r.CE)("div",bt,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(W.value,function(e){return(0,r.uX)(),(0,r.CE)("button",{key:e.category_id,class:(0,l.C4)(["category-item",{"category-suggested":e.category_id===A.value}]),type:"button",onClick:function(n){return P(e)},disabled:f.value},(0,l.v_)(e.name),11,ht)}),128))])):v.value||d.value||E.value?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("div",yt," No categories found. ")),(0,r.Lk)("div",wt,[(0,r.Lk)("button",{class:"btn-finalize",type:"button",onClick:V,disabled:b.value||!Q.value},(0,l.v_)(b.value?"Finalizing…":"✅ Finalize Session"),9,Lt),y.value?((0,r.uX)(),(0,r.CE)("div",_t,(0,l.v_)(y.value),1)):(0,r.Q3)("",!0),_.value?((0,r.uX)(),(0,r.CE)("div",At,(0,l.v_)(_.value),1)):(0,r.Q3)("",!0)]),X.value?((0,r.uX)(),(0,r.CE)("div",Ct,[n[4]||(n[4]=(0,r.Lk)("strong",null,"Discard payload",-1)),(0,r.Lk)("pre",null,(0,l.v_)(X.value),1)])):(0,r.Q3)("",!0)])])):((0,r.uX)(),(0,r.CE)("div",Et,(0,ne.A)(n[7]||(n[7]=[(0,r.Lk)("p",null,"No transaction selected for labeling.",-1)]))))])}}}),Xt=(0,D.A)(xt,[["__scopeId","data-v-73d0f37b"]]),It=Xt;var St={class:"app"},Tt={key:0,class:"navbar"},Rt={class:"nav-container"},Kt={class:"nav-links"};const Ft=(0,r.pM)({__name:"App",setup:function(e){var n=(0,u.KR)("signin"),a=(0,u.KR)(null),t=(0,u.KR)(null),i=(0,u.KR)(null),o=function(e){var a=["signin","register","users","main","import","categories","categoryDetail","unlabeled","labeling"];a.includes(e)&&(n.value=e,"categories"===e&&(i.value=null))},s=function(e){a.value=e,n.value="main"},c=function(){a.value=null,i.value=null,n.value="signin"},v=function(e){t.value=e,n.value="labeling"},d=function(e){i.value=e,n.value="categoryDetail"};return function(e,u){return(0,r.uX)(),(0,r.CE)("div",St,["main"!==n.value?((0,r.uX)(),(0,r.CE)("nav",Tt,[(0,r.Lk)("div",Rt,[u[3]||(u[3]=(0,r.Lk)("h1",{class:"logo"},"FlashFinance",-1)),(0,r.Lk)("div",Kt,[(0,r.Lk)("button",{onClick:u[0]||(u[0]=function(e){return o("signin")}),class:(0,l.C4)([{active:"signin"===n.value},"nav-btn"])}," Sign In ",2),(0,r.Lk)("button",{onClick:u[1]||(u[1]=function(e){return o("register")}),class:(0,l.C4)([{active:"register"===n.value},"nav-btn"])}," Register ",2),(0,r.Lk)("button",{onClick:u[2]||(u[2]=function(e){return o("users")}),class:(0,l.C4)([{active:"users"===n.value},"nav-btn"])}," View Users ",2)])])])):(0,r.Q3)("",!0),"signin"===n.value?((0,r.uX)(),(0,r.Wv)(N,{key:1,onNavigate:o,onSignIn:s})):(0,r.Q3)("",!0),"register"===n.value?((0,r.uX)(),(0,r.Wv)(ee,{key:2,onNavigate:o})):(0,r.Q3)("",!0),"users"===n.value?((0,r.uX)(),(0,r.Wv)(Le,{key:3,onNavigate:o})):(0,r.Q3)("",!0),"main"===n.value?((0,r.uX)(),(0,r.Wv)(Qe,{key:4,user:a.value,onSignOut:c,onNavigate:o},null,8,["user"])):(0,r.Q3)("",!0),"import"===n.value?((0,r.uX)(),(0,r.Wv)(Ze,{key:5,user:a.value,onNavigate:o},null,8,["user"])):(0,r.Q3)("",!0),"categories"===n.value?((0,r.uX)(),(0,r.Wv)(Nn,{key:6,user:a.value,onNavigate:o,onViewCategory:d},null,8,["user"])):(0,r.Q3)("",!0),"categoryDetail"===n.value?((0,r.uX)(),(0,r.Wv)(Ca,{key:7,user:a.value,category:i.value,onNavigate:o},null,8,["user","category"])):(0,r.Q3)("",!0),"unlabeled"===n.value?((0,r.uX)(),(0,r.Wv)(Ya,{key:8,user:a.value,onNavigate:o,onStartLabeling:v},null,8,["user"])):(0,r.Q3)("",!0),"labeling"===n.value?((0,r.uX)(),(0,r.Wv)(It,{key:9,transaction:t.value,user:a.value,onNavigate:o},null,8,["transaction","user"])):(0,r.Q3)("",!0)])}}}),Dt=Ft,Qt=Dt;(0,t.Ef)(Qt).mount("#app")}},n={};function a(t){var r=n[t];if(void 0!==r)return r.exports;var l=n[t]={exports:{}};return e[t].call(l.exports,l,l.exports,a),l.exports}a.m=e,(()=>{var e=[];a.O=(n,t,r,l)=>{if(!t){var u=1/0;for(c=0;c<e.length;c++){for(var[t,r,l]=e[c],i=!0,o=0;o<t.length;o++)(!1&l||u>=l)&&Object.keys(a.O).every(e=>a.O[e](t[o]))?t.splice(o--,1):(i=!1,l<u&&(u=l));if(i){e.splice(c--,1);var s=r();void 0!==s&&(n=s)}}return n}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[t,r,l]}})(),(()=>{a.n=e=>{var n=e&&e.__esModule?()=>e["default"]:()=>e;return a.d(n,{a:n}),n}})(),(()=>{a.d=(e,n)=>{for(var t in n)a.o(n,t)&&!a.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})}})(),(()=>{a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{a.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n)})(),(()=>{a.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{var e={524:0};a.O.j=n=>0===e[n];var n=(n,t)=>{var r,l,[u,i,o]=t,s=0;if(u.some(n=>0!==e[n])){for(r in i)a.o(i,r)&&(a.m[r]=i[r]);if(o)var c=o(a)}for(n&&n(t);s<u.length;s++)l=u[s],a.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return a.O(c)},t=self["webpackChunkflashfinance_ui"]=self["webpackChunkflashfinance_ui"]||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))})();var t=a.O(void 0,[504],()=>a(7539));t=a.O(t)})();
//# sourceMappingURL=app.d6e0a6c0.js.map